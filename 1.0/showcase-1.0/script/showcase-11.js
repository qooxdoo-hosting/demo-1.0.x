qx.$$packageData['a4d71f30aa1a']={"resources":{"qx/icon/Tango/16/actions/address-book-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/application-exit.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/appointment-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/bookmark-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/check-spelling.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/contact-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-apply.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-cancel.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-close.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-ok.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-open-recent.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-open.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-print-preview.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-print.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-properties.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-revert.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-save-as.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-save.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-send.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-clear.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-copy.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-cut.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-delete.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-find.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-paste.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-redo.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-select-all.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-undo.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/folder-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-indent-less.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-indent-more.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-center.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-fill.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-left.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-right.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-bold.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-direction-ltr.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-direction-rtl.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-italic.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-strikethrough.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-underline.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-bottom.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-down.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-first.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-home.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-last.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-next.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-previous.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-top.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-up.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/help-about.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/help-contents.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/help-faq.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/insert-image.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/insert-link.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/insert-text.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/list-add.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/list-remove.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-forward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-important.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-junk.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-read.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-unread.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-message-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-receive.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-reply-all.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-reply-sender.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-send.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-eject.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-playback-pause.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-playback-start.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-playback-stop.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-record.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-seek-backward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-seek-forward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-skip-backward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-skip-forward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-flip-horizontal.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-flip-vertical.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-rotate-left.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-rotate-right.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/process-stop.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-log-out.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-run.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-search.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-shutdown.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-fullscreen.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-refresh.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-restore.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-sort-ascending.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-sort-descending.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/window-close.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/window-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-fit-best.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-in.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-original.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-out.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-help.png":[16,16,"png","qx"],"qx/static/blank.html":"qx"}};
(function(){var bd="qx.event.type.Data",bc="Boolean",bb="qx.event.type.Event",ba="display",Y="mousedown",X="none",W="qx.client",V="appear",U="mouseup",T="losecapture",bX="xhtml",bW="_applyUseUndoRedo",bV="focusOut",bU="height",bT="_applyMessengerMode",bS=")",bR="InsertParagraphOnLinebreak",bQ="gecko",bP="repeat",bO="undoRedoState",bk="div",bl="messengerContent",bi="__uE",bj="focused",bg="Function",bh="_applyInsertParagraphOnLinebreak",be="PostProcess",bf="width",bo="_applyInsertLinebreakOnCtrlEnter",bp="ContentType",bx="px",bv="url(",bE="DOMNodeRemoved",bz="cursorContext",bK="String",bI="htmlarea",br="ready",bN="loadingError",bM="MessengerMode",bL="__uC",bq="zIndex",bt="left",bu="UseUndoRedo",bw="top",by="_applyContentType",bA="qx.ui.embed.HtmlArea",bF="mshtml",bJ="block",bm="position",bn="readyAfterInvalid",bs="InsertLinebreakOnCtrlEnter",bD="contextmenu",bC="set",bB="qx/static/blank.gif",bH="_applyPostProcess",bG="absolute";
qx.Class.define(bA,{extend:qx.ui.core.Widget,construct:function(j,k,l){arguments.callee.base.call(this);
this._setLayout(new qx.ui.layout.Grow);
this.__uF();
this.__uB={content:j,styleInfo:k,source:l};
qx.event.Registration.addListener(document.body,Y,this.block,this,true);
qx.event.Registration.addListener(document.body,U,this.release,this,true);
qx.event.Registration.addListener(document.body,T,this.release,this,true);
this.__uC=this._createBlockerElement();
this.getContainerElement().add(this.__uC);
this.__uD={};
},events:{"loadingError":bd,"messengerContent":bd,"cursorContext":bd,"ready":bb,"readyAfterInvalid":bb,"focused":bb,"focusOut":bb,"contextmenu":bd,"undoRedoState":bd},statics:{isBlockNode:function(f){return qx.bom.htmlarea.HtmlArea.isBlockNode(f);
},isParagraphParent:function(g){return qx.bom.htmlarea.HtmlArea.isParagraphParent(g);
}},properties:{contentType:{check:bK,init:bX,apply:by},messengerMode:{check:bc,init:false,apply:bT},insertParagraphOnLinebreak:{check:bc,init:true,apply:bh},insertLinebreakOnCtrlEnter:{check:bc,init:true,apply:bo},postProcess:{check:bg,nullable:true,init:null,apply:bH},useUndoRedo:{check:bc,init:true,apply:bW},appearance:{refine:true,init:bI}},members:{__uE:null,__uD:null,__uC:null,__uB:null,_applyContentType:function(h,i){if(this.__uE!=null){this.__uE.setContentType(h);
}else{this.__uD[bp]=h;
}},_applyMessengerMode:function(E,F){if(this.__uE!=null){this.__uE.setMessengerMode(E);
}else{this.__uD[bM]=E;
}},_applyInsertParagraphOnLinebreak:function(L,M){if(this.__uE!=null){this.__uE.setInsertParagraphOnLinebreak(L);
}else{this.__uD[bR]=L;
}},_applyInsertLinebreakOnCtrlEnter:function(c,d){if(this.__uE!=null){this.__uE.setInsertLinebreakOnCtrlEnter(c);
}else{this.__uD[bs]=c;
}},_applyPostProcess:function(P,Q){if(this.__uE!=null){this.__uE.setPostProcess(P);
}else{this.__uD[be]=P;
}},_applyUseUndoRedo:function(I,J){if(this.__uE!=null){this.__uE.setUseUndoRedo(I);
}else{this.__uD[bu]=I;
}},_createBlockerElement:function(){var r=new qx.html.Element(bk);
r.setStyle(bq,20);
r.setStyle(bm,bG);
r.setStyle(ba,X);
if(qx.core.Variant.isSet(W,bF)){r.setStyles({backgroundImage:bv+qx.util.ResourceManager.getInstance().toUri(bB)+bS,backgroundRepeat:bP});
}return r;
},__uF:function(){this.addListenerOnce(V,this.__uG);
},__uG:function(){var R=this.getContentElement().getDomElement();
this.__uE=new qx.bom.htmlarea.HtmlArea(R,this.__uB.content,this.__uB.styleInfo,this.__uB.source);
this.__uH();
this.__uI();

if(qx.core.Variant.isSet(W,bQ)){this.__uL();
}this.addListener(V,this.forceEditable);
},__uH:function(){for(var t in this.__uD){this.__uE[bC+t](this.__uD[t]);
}},__uI:function(){this.__uE.addListener(br,this.__uJ,this);
this.__uE.addListener(bn,this.__uJ,this);
this.__uE.addListener(bj,this.__uJ,this);
this.__uE.addListener(bV,this.__uJ,this);
this.__uE.addListener(bN,this.__uK,this);
this.__uE.addListener(bz,this.__uK,this);
this.__uE.addListener(bD,this.__uK,this);
this.__uE.addListener(bO,this.__uK,this);
this.__uE.addListener(bl,this.__uK,this);
},__uJ:function(e){var m=e.clone();
this.fireEvent(m.getType());
},__uK:function(e){var S=e.clone();
this.fireDataEvent(S.getType(),e.getData());
},__uL:function(){var self=this;
var B=this.getContainerElement().getDomElement();
qx.bom.Event.addNativeListener(B,bE,qx.event.GlobalError.observeMethod(function(e){self.__uE.invalidateEditor();
}));
},renderLayout:function(w,top,x,y){arguments.callee.base.call(this,w,top,x,y);
var A=bx;
var z=this.getInsets();
this.__uC.setStyle(bt,z.left+A);
this.__uC.setStyle(bw,z.top+A);
this.__uC.setStyle(bf,(x-z.left-z.right)+A);
this.__uC.setStyle(bU,(y-z.top-z.bottom)+A);
},getIframeObject:function(){return this.__uE!=null?this.__uE.getIframeObject():null;
},getCommandManager:function(){return this.__uE!=null?this.__uE.getCommandManager():null;
},setValue:function(s){if(this.__uE!=null){this.__uE.setValue(s);
}},getValue:function(){return this.__uE!=null?this.__uE.getValue():null;
},getComputedValue:function(n){return this.__uE!=null?this.__uE.getHtml(n):null;
},getCompleteHtml:function(){return this.__uE!=null?this.__uE.getCompleteHtml():null;
},getContentDocument:function(){return this.__uE!=null?this.__uE.getContentDocument():null;
},getContentBody:function(){return this.__uE!=null?this.__uE.getContentBody():null;
},getContentWindow:function(){return this.__uE!=null?this.__uE.getContentWindow():null;
},getWords:function(H){return this.__uE!=null?this.__uE.getWords(H):null;
},getWordsWithElement:function(){return this.__uE!=null?this.__uE.getWordsWithElement():null;
},getTextNodes:function(){return this.__uE!=null?this.__uE.getTextNodes():null;
},isReady:function(){return this.__uE!=null?this.__uE.isReady():false;
},forceEditable:function(){if(this.__uE!=null){this.__uE.forceEditable();
}},isLoaded:function(){return this.__uE!=null?this.__uE.isLoaded():false;
},setEditable:function(O){if(this.__uE!=null){this.__uE.setEditable(O);
}},getEditable:function(){return this.__uE!=null?this.__uE.getEditable():false;
},isEditable:function(){return this.__uE!=null?this.__uE.isEditable():false;
},insertHtml:function(N){return this.__uE!=null?this.__uE.insertHtml(N):false;
},removeFormat:function(){return this.__uE!=null?this.__uE.removeFormat():false;
},setBold:function(){return this.__uE!=null?this.__uE.setBold():false;
},setItalic:function(){return this.__uE!=null?this.__uE.setItalic():false;
},setUnderline:function(){return this.__uE!=null?this.__uE.setUnderline():false;
},setStrikeThrough:function(){return this.__uE!=null?this.__uE.setStrikeThrough():false;
},setFontSize:function(v){return this.__uE!=null?this.__uE.setFontSize(v):false;
},setFontFamily:function(C){return this.__uE!=null?this.__uE.setFontFamily(C):false;
},setTextColor:function(D){return this.__uE!=null?this.__uE.setTextColor(D):false;
},setTextBackgroundColor:function(b){return this.__uE!=null?this.__uE.setTextBackgroundColor(b):false;
},setJustifyLeft:function(){return this.__uE!=null?this.__uE.setJustifyLeft():false;
},setJustifyCenter:function(){return this.__uE!=null?this.__uE.setJustifyCenter():false;
},setJustifyRight:function(){return this.__uE!=null?this.__uE.setJustifyRight():false;
},setJustifyFull:function(){return this.__uE!=null?this.__uE.setJustifyFull():false;
},insertIndent:function(){return this.__uE!=null?this.__uE.insertIndent():false;
},insertOutdent:function(){return this.__uE!=null?this.__uE.insertOutdent():false;
},insertOrderedList:function(){return this.__uE!=null?this.__uE.insertOrderedList():false;
},insertUnorderedList:function(){return this.__uE!=null?this.__uE.insertUnorderedList():false;
},insertHorizontalRuler:function(){return this.__uE!=null?this.__uE.insertHorizontalRuler():false;
},insertImage:function(a){return this.__uE!=null?this.__uE.insertImage(a):false;
},insertHyperLink:function(u){return this.__uE!=null?this.__uE.insertHyperLink(u):false;
},removeBackgroundColor:function(){return this.__uE!=null?this.__uE.removeBackgroundColor():false;
},setBackgroundColor:function(G){return this.__uE!=null?this.__uE.setBackgroundColor(G):false;
},removeBackgroundImage:function(){return this.__uE!=null?this.__uE.removeBackgroundImage():false;
},setBackgroundImage:function(o,p,q){return this.__uE!=null?this.__uE.setBackgroundImage(o,p,q):false;
},selectAll:function(){return this.__uE!=null?this.__uE.selectAll():false;
},undo:function(){return this.__uE!=null?this.__uE.undo():false;
},redo:function(){return this.__uE!=null?this.__uE.redo():false;
},resetHtml:function(){if(this.__uE!=null){this.__uE.resetHtml();
}},getHtml:function(K){return this.__uE!=null?this.__uE.getHtml(K):null;
},containsOnlyPlaceholder:function(){return this.__uE!=null?this.__uE.containsOnlyPlaceHolder():false;
},getContextInformation:function(){return this.__uE!=null?this.__uE.getContextInformation():null;
},getSelection:function(){return this.__uE!=null?this.__uE.getSelection():null;
},getSelectedText:function(){return this.__uE!=null?this.__uE.getSelectedText():null;
},getSelectedHtml:function(){return this.__uE!=null?this.__uE.getSelectedHtml():null;
},clearSelection:function(){if(this.__uE!=null){this.__uE.clearSelection();
}},getRange:function(){return this.__uE.getRange();
},saveRange:function(){this.__uE.saveRange();
},getSavedRange:function(){return this.__uE.getSavedRange();
},resetSavedRange:function(){this.__uE.resetSavedRange();
},getFocusNode:function(){return this.__uE!=null?this.__uE.getFocusNode():null;
},block:function(){this.__uC.setStyle(ba,bJ);
},release:function(){this.__uC.setStyle(ba,X);
}},destruct:function(){this._disposeObjects(bL,bi);
this.__uD=this.__uB=null;
qx.event.Registration.removeListener(document.body,Y,this.block,this,true);
qx.event.Registration.removeListener(document.body,U,this.release,this,true);
qx.event.Registration.removeListener(document.body,T,this.release,this,true);
}});
})();
(function(){var I="qx.client",H="Command",G="mshtml",F="gecko",E="Custom",D="Content",C="Internal",B="inserthtml",A="backgroundimage",z="backgroundcolor",bD="webkit",bC="backgroundColor",bB="mousedown",bA="table",bz="backgroundImage",by="backgroundRepeat",bx="p",bw="backgroundPosition",bv="td",bu="img",P="inserthyperlink",Q="mouseup",N="keypress",O="qx.bom.htmlarea.HtmlArea.debug",L="on",M="undo",J="undoRedoState",K="pageup",T="b",U="control",bd="end",bb="right",bk="qx_link",bf="insertunorderedlist",bq="Undo",bo="pagedown",W="k",bt="home",bs="a",br="insertorderedlist",V="y",Y="__wA",ba="justifyright",bc="redo",be="insertParagraph",bg="qx.bom.htmlarea.manager.UndoRedo",bl="left",bp="i",R="Redo",S="u",X="enter",bj="insertimage",bi="z",bh="down",bn="up",bm="body";
qx.Class.define(bg,{extend:qx.core.Object,construct:function(a,b){arguments.callee.base.call(this);
this.__wA=a;
this.__wB=b;
this.__wC=[];
this.__wD=[];
this._commands=null;
this.__wE=null;
this.__wF={};
this.__wG={command:true,content:true,custom:true};
this.__xf();
this.__wH=qx.lang.Function.bind(this._handleKeyPress,this);
this.__wI=qx.lang.Function.bind(this._handleMouseUp,this);

if(qx.core.Variant.isSet(I,G)){this.__wJ=qx.lang.Function.bind(this._handleMouseDown,this);
}},members:{__wK:false,__wL:false,__wM:false,__wG:null,__wF:null,__wA:null,__wE:null,__wC:null,__wD:null,__wB:null,__wH:null,__wI:null,__wJ:null,__wN:null,setContentDocument:function(bE){this.__wE=bE;
this.__wA.setContentDocument(bE);
qx.event.Registration.addListener(bE.body,N,this.__wH,this);
qx.event.Registration.addListener(bE.body,Q,this.__wI,this);

if(qx.core.Variant.isSet(I,G)){qx.event.Registration.addListener(bE.body,bB,this.__wJ,this,true);
}},insertParagraphOnLinebreak:function(){return this.__wA.insertParagraphOnLinebreak();
},execute:function(cp,cq){var cr;
cp=cp.toLowerCase();
if(this._commands[cp]){if(this._commands[cp].passthrough){cr=this.__wA.execute(cp,cq);
}else{cr=this[cp].call(this);
}}else{if(qx.core.Variant.isSet(I,G)||qx.core.Variant.isSet(I,bD)){this.__xg(cp,cq,this.__wA.getCommandObject(cp));
cr=this.__wA.execute(cp,cq);
if(!cr){this.__wC.pop();
}}else{cr=this.__wA.execute(cp,cq);

if(cr){this.__xg(cp,cq,this.__wA.getCommandObject(cp));
}}
if(cp==M&&this.__wC.length==0){this.__wL=false;
this.__xo();
}else if(cp==bc&&this.__wD.length==0){this.__wK=false;
this.__xo();
}}this.__wM=false;
return cr;
},addUndoStep:function(cC,cD,cE){this.__xg(cC,cD,cE);
},registerHandler:function(cs,ct,cu,cv){this.__wF[cs]={undo:ct,redo:cu,context:cv};
},isUndoPossible:function(){return this.__wL;
},undo:function(){var cL;

if(this.__wM){this.__xi();
}if(this.__wC.length>0){var cK=this.__wC.pop();

if(this.__wG[cK.actionType.toLowerCase()]){switch(cK.actionType){case H:cL=this.__wP(cK);
break;
case D:cL=this.__wT(cK);
break;
case C:cL=this.__wS(cK);
break;
case E:cL=this.__wO(cK);
break;
}}else if(this.__wF[cK.actionType]){var cJ=this.__wF[cK.actionType];
cL=cJ.undo.call(cJ.context?cJ.context:this,cK);
this.__xk(cK);
}else{this.error("actionType "+cK.actionType+" is not managed! Please provide a handler method!");
}this.__wK=true;
this.__xo();
return cL;
}},__wO:qx.core.Variant.select(I,{"mshtml|webkit":function(bG){var bH=this.__wE.body.innerHTML;
var bJ=bG.content;
this.__wE.body.innerHTML=bJ;
var bI=bG;
bI.content=bH;
this.__xk(bI);
return true;
},"default":function(cc){var cg=cc;
var cf=qx.bom.element.Style;
switch(cc.command){case z:cg.parameter=[cf.get(this.__wE.body,bC)];
break;
case A:cg.parameter=[cf.get(this.__wE.body,bz),cf.get(this.__wE.body,by),cf.get(this.__wE.body,bw)];
break;
}this.__xk(cg);
if(cc.command==P){if(qx.core.Variant.isSet(I,F)){var ce=bk+this.__wA.__hyperLinkId;
var cd=this.__wE.getElementById(ce);

if(cd){cd.parentNode.removeChild(cd);
return true;
}else{return false;
}}}else{return this.__wA.execute(cc.command,cc.value);
}}}),__wP:qx.core.Variant.select(I,{"mshtml|webkit":function(g){},"default":function(bV){this.__xk(bV);

if(qx.core.Variant.isSet(I,F)){if(bV.command==B&&bV.value==qx.bom.htmlarea.HtmlArea.EMPTY_DIV&&this.__wQ(B,be)){this.__wR();
}}return this.__wU();
}}),__wQ:function(bR,bS){if(this.__wC.length>0){var bT=this.__wC[this.__wC.length-1];
return (bT.command==bR&&bT.value==bS);
}return false;
},__wR:function(){this.__wU();

if(this.__wC.length>0){var c=this.__wC.pop();
this.__xk(c);
}},__wS:function(h){this.__xk(h);
return this.__wU();
},__wT:qx.core.Variant.select(I,{"gecko":function(k){this.__xk(k);

try{return this.__wU();
}catch(bU){{};
}},"mshtml|webkit":function(l){},"default":function(f){this.__xk(f);
return this.__wU();
}}),__wU:function(){try{return this.__wE.execCommand(bq,false,null);
}catch(e){return false;
}},isRedoPossible:function(){return this.__wK;
},redo:function(){if(this.__wK){var v;
if(this.__wD.length>0){var w=this.__wD.pop();

if(this.__wG[w.actionType.toLowerCase()]){switch(w.actionType){case H:v=this.__wW(w);
break;
case D:v=this.__xd(w);
break;
case C:v=this.__xc(w);
break;
case E:v=this.__wV(w);
break;
}}else if(this.__wF[w.actionType]){var u=this.__wF[w.actionType];
v=u.redo.call(u.context?u.context:this,w);
this.__xj(w);
}else{this.error("actionType "+w.actionType+" is not managed! Please provide a handler method!");
}this.__wL=true;
this.__xo();
}return v;
}},__wV:qx.core.Variant.select(I,{"mshtml|webkit":function(m){var n=this.__wE.body.innerHTML;
var p=m.content;
this.__wE.body.innerHTML=p;
var o=m;
o.content=n;
this.__xj(o);
return true;
},"default":function(bW){this.__xj(bW);
return this.__xe();
}}),__wW:qx.core.Variant.select(I,{"mshtml|webkit":function(bP){},"default":function(ck){this.__xj(ck);
var cl=this.__xe();

if(qx.core.Variant.isSet(I,F)){if(this.__wX(B,qx.bom.htmlarea.HtmlArea.EMPTY_DIV)){var cm=this.__wY();
this.__xa();

if(cm!=null){this.__xb(cm);
}}}return cl;
}}),__wX:function(bX,bY){if(this.__wD.length>0){var ca=this.__wD[this.__wD.length-1];
return (ca.command==bX&&ca.value==bY);
}return false;
},__wY:function(){if(this.__wB==null){return null;
}var cH=this.__wB.getSelection();
var cI=cH?cH.focusNode:null;

if(cI==null){return null;
}
try{while(cI.nodeName.toLowerCase()!=bx){cI=cI.parentNode;

if(!cI||qx.dom.Node.isNodeName(cI,bm)){return null;
}}}catch(co){return null;
}
if(cI!=null&&qx.dom.Node.isNodeName(cI,bx)){return cI;
}else{return null;
}},__xa:function(){var cM=this.__wD.pop();
this.__xj(cM);
this.__xe();
},__xb:qx.core.Variant.select(I,{"gecko":function(q){if(q==this.__wB.getContentBody().lastChild){return;
}var t=q.firstChild;

while(t.firstChild){t=t.firstChild;
}var r=this.__wB.getSelection();
var s=this.__wB.getRange();

if(r&&s){s.selectNode(t);
r.addRange(s);
s.collapse(true);
}},"default":qx.lang.Function.empty}),__xc:function(bQ){this.__xj(bQ);
return this.__xe();
},__xd:qx.core.Variant.select(I,{"mshtml|webkit":function(cb){},"default":function(bF){this.__xj(bF);
return this.__xe();
}}),__xe:function(){try{return this.__wE.execCommand(R,false,null);
}catch(e){return false;
}},__xf:function(){this._commands={undo:{passthrough:false},redo:{passthrough:false}};
this.__wA.getCommandObject(z).customUndo=true;
this.__wA.getCommandObject(A).customUndo=true;

if(qx.core.Variant.isSet(I,F)){}},__xg:qx.core.Variant.select(I,{"mshtml|webkit":function(cN,cO,cP){var cQ=this.getUndoRedoObject();
cQ.commandObject=cP;
cQ.command=cN;
cQ.value=cO;
cQ.actionType=E;
cQ.content=this.__wE.body.innerHTML;
this.__xh(cQ);
},"default":function(cw,cx,cy){if(this.__wB==null){return;
}var cA=this.getUndoRedoObject();
cA.commandObject=cy;
cA.command=cw;
cA.value=cx;
cA.actionType=E;
var cz=this.__wB.getSelection();

if(cy.customUndo){var cB=[];

switch(cw){case z:cB.push(qx.bom.element.Style.get(this.__wE.body,bC));
break;
case A:cB.push(qx.bom.element.Style.get(this.__wE.body,bz),qx.bom.element.Style.get(this.__wE.body,by),qx.bom.element.Style.get(this.__wE.body,bw));
break;
case P:if(cz&&!cz.isCollapsed){cA.actionType=H;
}break;
}cA.parameter=cB;
}else{if(qx.core.Variant.isSet(I,F)){if(cz&&cz.isCollapsed){switch(cw){case br:case bf:case ba:case B:case bj:cA.actionType=H;
break;
default:return;
}}else{cA.actionType=H;
}}else{cA.actionType=H;
}}this.__xh(cA);
}}),__xh:function(ci){if(this.__wM){this.__xi();
}this.__xj(ci);
this.__wK=false;
this.__wD=[];
this.__xo();
},__xi:function(){var cF=this.__wC[this.__wC.length-1];

if(cF==null||cF.actionType!=D){var cG=this.getUndoRedoObject();
cG.actionType=D;

if(qx.core.Variant.isSet(I,G)||qx.core.Variant.isSet(I,bD)){cG.content=this.__wN;
cG.actionType=E;
this.__wN=null;
}this.__xj(cG);
this.__wM=false;
}},getUndoRedoObject:function(){return {actionType:null,commandObject:null,command:null,value:null,parameter:null,range:null,marker:null,content:null};
},__xj:function(cR){if(false&&qx.core.Setting.get(O)==L){this.debug("ADD TO UNDO STACK");
this.debug(cR.actionType+" "+cR.command+" "+cR.value);
}this.__wC.push(cR);
},__xk:function(ch){if(false&&qx.core.Setting.get(O)==L){this.debug("ADD TO REDO STACK");
this.debug(ch.actionType+" "+ch.command+" "+ch.value);
}this.__wD.push(ch);
},_handleKeyPress:function(e){var x=e.getKeyIdentifier().toLowerCase();
var y=e.isCtrlPressed();

switch(x){case U:case bl:case bb:case bn:case bh:case K:case bo:case bt:case bd:case X:break;
case bs:case T:case bp:case S:case W:case V:case bi:if(!y){this.__xl();
}break;
default:this.__wK=false;
this.__wD=[];
this.__xl();
}},__xl:function(){if(!this.__wM){this.__wM=true;
this.__wL=true;
if(qx.core.Variant.isSet(I,G)||qx.core.Variant.isSet(I,bD)){this.__wN=this.__wE.body.innerHTML;
}this.__xo();
}},__xm:null,_handleMouseDown:qx.core.Variant.select(I,{"mshtml":function(e){var cj=e.getOriginalTarget();

if(qx.dom.Node.isElement(cj)&&(qx.dom.Node.isNodeName(cj,bu)||qx.dom.Node.isNodeName(cj,bA))){this.__xm={node:cj,content:cj.outerHTML};
}else{this.__xm=null;
}},"default":function(e){return true;
}}),_handleMouseUp:qx.core.Variant.select(I,{"gecko":function(e){if(this.__wB==null){return;
}var bL=this.__wB.getSelection();

if(!bL){this.__xm=null;
return;
}var bK=bL.anchorNode;
var bM=bK.childNodes[bL.anchorOffset];
if(qx.dom.Node.isNodeName(bM,bu)){if(this.__xm==null){this.__xm=bM.cloneNode(true);
}else{if(this.__xm.style.width!=bM.style.width||this.__xm.style.height!=bM.style.height){this.__xn();
this.__xm=bM.cloneNode(true);
}}}else if(qx.dom.Node.isNodeName(bK,bv)||qx.dom.Node.isNodeName(bK.parentNode,bv)){var bN=bK.parentNode;

while(qx.dom.Node.isNodeName(bN,bA)){bN=bN.parentNode;
}if(this.__xm==null){this.__xm=bN.cloneNode(true);
}else{qx.event.Timer.once(function(){if(bN.style.width!=this.__xm.style.width||bN.style.height!=this.__xm.style.height||bN.innerHTML!=this.__xm.innerHTML){this.__xn();
this.__xm=bN.cloneNode(true);
}},this,0);
}}else{this.__xm=null;
}},"default":function(e){var d=e.srcElement;

if(this.__xm!=null){if(d.nodeType==1){if(d==this.__xm.node){if(d.outerHTML!=this.__xm.content){this.__xm.content=d.outerHTML;
this.__xn();
}}else{for(var i=0,j=d.childNodes.length;i<j;i++){if(d.childNodes[i]==this.__xm.node){if(d.childNodes[i].outerHTML!=this.__xm.content){this.__xm.content=d.childNodes[i].outerHTML;
this.__xn();
}}}}}else{this.__xm=null;
}}}}),__xn:qx.core.Variant.select(I,{"mshtml|webkit":function(){this.__xg(C,null,null);
},"default":function(){var bO=this.getUndoRedoObject();
bO.actionType=C;
this.__xj(bO);
}}),__xo:function(){qx.event.Timer.once(function(e){if(this.__wB!=null){var cn={undo:this.isUndoPossible()?0:-1,redo:this.isRedoPossible()?0:-1};
this.__wB.fireDataEvent(J,cn);
}},this,200);
}},destruct:function(){try{qx.event.Registration.removeListener(this.__wE.body,N,this.__wH);
qx.event.Registration.removeListener(this.__wE,Q,this.__wI);

if(qx.core.Variant.isSet(I,G)){qx.event.Registration.removeListener(this.__wE,bB,this.__wJ);
}}catch(e){}this._disposeObjects(Y);
this.__wB=this.__wC=this.__wD=this._commands=this.__wE=null;
this.__wG=this.__wF=null;
}});
})();
(function(){var eL="qx.client",eK="",eJ="mshtml",eI="gecko",eH="qx.event.type.Data",eG="enter",eF="qx.event.type.Event",eE=" ",eD='"',eC="left",dt="Boolean",ds="text-align",dr="right",dq="qx.bom.htmlarea.HtmlArea.debug",dp="on",dn="inserthtml",dm="string",dl="italic",dk="body",dj="underline",eS="old_id",eT="b",eQ="loadingError",eR="contextmenu",eO="pageup",eP="end",eM="div",eN='On',eU="redo",eV="i",ej="opera",ei="backspace",em="bold",ek="mouseup",eo="y",en="down",eq="style",ep="100%",eh='</head>',eg='<head>',by="k",bz=":",bA='redo',bB='Off',bC="g",bD="keypress",bE=";",bF="undo",bG="text-decoration",bH="pagedown",fk="justify",fj="center",fi='</style>',fh="u",fo="focus",fn="backgroundimage",fm="click",fl='<style type="text/css">',fq="up",fp="blur",cy="None",cz="control",cw="delete",cx="'",cC=">",cD='</body></html>',cA="line-through",cB="z",cu="keydown",cv="keyup",cb="backgroundcolor",ca="focusout",cd="webkit",cc="mshtml|opera",bW="-",bV="backgroundColor",bY="li",bX='undo',bU="<br class='webkit-block-placeholder' />",bT="textbackgroundcolor",cI="Function",cJ="fontSize",cK="textcolor",cL="br",cE="home",cF="<",cG="focused",cH="fontFamily",cM="load",cN="setUnderline",cn="backgroundPosition",cl="<!--",ck="transparent",cj='/www.w3.org/1999/xhtml" xml:lang="en" lang="en">',ci="'>",ch='underline',cg='bold',cf="&copy;",cr="ul",cq="cursorContext",cO="readyAfterInvalid",cP="styleWithCSS",cQ=" />",cR="id",cS="setBold",cT="P",cU="<P>&nbsp;</P>",cV="</",cW="qx/static/blank.html",cX="&gt;",dB='="',dA="paddingLeft",dz="X",dy="#",dF="backgroundRepeat",dE="insertimage",dD="a",dC="&amp;",dI="removeformat",dH="marginLeft",ec="ready",ed="<p>&nbsp;</p>",ea='DOCTYPE html PUBLIC "-/',eb="outline",dX=" html, body {overflow-x: visible; } ",dY='<body>',dV="insertorderedlist",dW='body { font-size:100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; background-color:transparent; overflow:visible; background-image:none; margin:0px; padding:5px; } ',ee="font-family",ef="hideFocus",eu="none",et='/DTD XHTML 1.0 Transitional/',ew='<html xmlns="http:/',ev="S",ez="fontsize",ey="setItalic",eB="font-style",eA="xhtml",es="focusOut",er="justifyleft",fd="paddingTop",fe="marginBottom",ff='<title></title><meta http-equiv="Content-type" content="text/html; charset=UTF-8" />',fg="Control",eY='/W3C/',fa="placeholder",fb='size',fc="backgroundImage",eW="marginTop",eX="> ",bx=" { ",bw="font-weight",bv="LI",bu='italic',bt='<!',bs="off",br="&quot;",bq="marginRight",bp="STYLE",bo="justifyfull",bK="inserthyperlink",bL="<br />",bI='html { margin:0px; padding:0px; } ',bJ="<br>",bO='/EN" "http:/',bP="justifycenter",bM="<br /><div id='placeholder'></div>",bN="useCSS",bR="object",bS="strikethrough",dJ="font-size",dG="indent",dQ="text/html",dM="true",dw="1.9",du=' style="',ce="messengerContent",dx="insertunorderedlist",cp="Text",co="&lt;",db="__uU",dc="inserthorizontalrule",dd='<br/><div class="placeholder"></div>',de="selectall",df="String",dg=" SCRIPT STYLE DIV SPAN TR TD TBODY TABLE EM STRONG FONT A P B I U STRIKE H1 H2 H3 H4 H5 H6 ",dh="justifyright",di='/www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',cY="ol",da="//text()[string-length(normalize-space(.))>0]",dv="outdent",dP="fontfamily",dO="<body style='",dN="qx.bom.htmlarea.HtmlArea",dU="paddingBottom",dT="$",dS="-->",dR=" }",dL="paddingRight",dK='html { width:100%; height:100%; margin:0px; padding:0px; overflow-y:auto; overflow-x:auto; } ',bQ="Off",ct='p { margin:0px; padding:0px; }',cs='body { font-size: 100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; width:100%; height:100%; background-color:transparent; overflow:auto; background-image:none; margin:0px; padding:5px; } ';
qx.Class.define(dN,{extend:qx.core.Object,construct:function(gT,gU,gV,gW){arguments.callee.base.call(this);
var gY=gW||qx.util.ResourceManager.getInstance().toUri(cW);
this.__vp(gT);
this.__vq();
this._createAndAddIframe(gY);
this._addIframeLoadListener();
this.__uM=qx.bom.htmlarea.HtmlArea.__uV(gV);
this.__uN=qx.lang.Function.bind(this._handleFocusEvent,this);
this.__uO=qx.lang.Function.bind(this._handleBlurEvent,this);
this.__uP=qx.lang.Function.bind(this._handleFocusOutEvent,this);
this.__uQ=qx.lang.Function.bind(this._handleMouseUpOnBody,this);
this.__uR=qx.lang.Function.bind(this._handleMouseUpOnDocument,this);
this.__uS=qx.lang.Function.bind(this._handleContextMenuEvent,this);
if(typeof gU===dm){this.__uT=gU;
}if(qx.core.Variant.isSet(eL,ej)){var gX=qx.dom.Node.getWindow(gT);
var ha=qx.event.Registration.getManager(gX).getHandler(qx.event.handler.Keyboard);
ha._keyCodeToIdentifierMap[35]=dy;
ha._keyCodeToIdentifierMap[45]=bW;
ha._keyCodeToIdentifierMap[112]=cT;
ha._keyCodeToIdentifierMap[115]=ev;
ha._keyCodeToIdentifierMap[120]=dz;
}this.__uU=this.__vz();
},events:{"load":eF,"loadingError":eH,"messengerContent":eH,"cursorContext":eH,"ready":eF,"readyAfterInvalid":eF,"focused":eF,"focusOut":eF,"contextmenu":eH,"undoRedoState":eH},statics:{simpleLinebreak:bJ,EMPTY_DIV:"<div></div>",GetWordsRegExp:/([^\u0000-\u0040\u005b-\u005f\u007b-\u007f]|['])+/g,CleanupWordsRegExp:/[\u0000-\u0040]/gi,hotkeyInfo:{bold:{method:cS},italic:{method:ey},underline:{method:cN},undo:{method:bF},redo:{method:eU}},__uV:function(fr){if(fr==null||fr==eK){return eK;
}else if(typeof fr==bR){var fs=eK;

for(var i in fr){fs+=i+bx+fr[i]+dR;
}return fs;
}else{return fr;
}},__uW:function(gO){var gP={};
var a=gO.split(bE);
var i;

for(i=0;i<a.length;i++){var gQ=a[i],gR=gQ.indexOf(bz);

if(gR===-1){continue;
}var name=qx.lang.String.trim(gQ.substring(0,gR));
var gS=qx.lang.String.trim(gQ.substring(gR+1,gQ.length));

if(name&&gS){gP[name]=gS;
}}return gP;
},__uX:function(gt,gu,gv,gw){var gB=[];

switch(gt.nodeType){case 1:case 11:var i;
var gz=gt.tagName.toLowerCase();
var gD={};
var gx={};
var closed=(!(gt.hasChildNodes()||qx.bom.htmlarea.HtmlArea.__uY(gt)));

if(gu){if(qx.core.Variant.isSet(eL,eJ)){if(gz==eM&&gt.className&&gt.className==fa){for(i=gt.firstChild;i;i=i.nextSibling){gB.push(qx.bom.htmlarea.HtmlArea.__uX(i,true,gv,gw));
}return gB.join(eK);
}}var gC=gt.attributes;
var gA=gC.length;
var a;

for(i=0;i<gA;i++){a=gC[i];
if(!a.specified){continue;
}var name=qx.dom.Node.getName(a);
var gE=a.nodeValue;
if(/(_moz|contenteditable)/.test(name)){continue;
}
if(name!=eq){if(qx.bom.client.Engine.MSHTML){if(name==cR&&gt.getAttribute(eS)){gE=gt.getAttribute(eS);
}else if(!isNaN(gE)){gE=gt.getAttribute(name);
}else{gE=a.nodeValue;
}}else{gE=a.nodeValue;
}}else{gE=gt.style.cssText;
}
if(/(_moz|^$)/.test(gE)){continue;
}if(name==eS){continue;
}if(!gE){continue;
}if(name.charAt(0)===dT){continue;
}gD[name]=gE;
}if(gD.style!==undefined){gx=qx.bom.htmlarea.HtmlArea.__uW(gD.style);
delete gD.style;
}if(gw){var gy={domElement:gt,tag:gz,attributes:gD,styles:gx};
gw(gy);
gy.domElement=null;
gz=gy.tag;
}if(gz){gB.push(cF,gz);
for(var name in gD){var gE=gD[name];
gB.push(eE,name,dB,gE.toString().replace(new RegExp(eD,bC),cx),eD);
}if(!qx.lang.Object.isEmpty(gx)){gB.push(du);

for(var name in gx){var gE=gx[name];
gB.push(name,bz,gE.toString().replace(new RegExp(eD,bC),cx),bE);
}gB.push(eD);
}gB.push(closed?cQ:cC);
}}for(i=gt.firstChild;i;i=i.nextSibling){gB.push(qx.bom.htmlarea.HtmlArea.__uX(i,true,gv,gw));
}if(gu&&!closed&&gz){gB.push(cV,gz,cC);
}break;
case 3:gB.push(gv?gt.data:qx.bom.htmlarea.HtmlArea.__va(gt.data));
break;
case 8:gB.push(cl,gt.data,dS);
break;
}return gB.join(eK);
},closingTags:dg,__uY:function(fW){return (qx.bom.htmlarea.HtmlArea.closingTags.indexOf(eE+fW.tagName+eE)!=-1);
},__va:function(s){s=s.replace(/&/ig,dC);
s=s.replace(/</ig,co);
s=s.replace(/>/ig,cX);
s=s.replace(/\x22/ig,br);
s=s.replace(/\xA9/ig,cf);
return s;
},isBlockNode:function(hb){if(!qx.dom.Node.isElement(hb)){return false;
}hb=qx.dom.Node.getName(hb);
return /^(body|form|textarea|fieldset|ul|ol|dl|li|div|p|h[1-6]|quote|pre|table|thead|tbody|tfoot|tr|td|th|iframe|address|blockquote)$/.test(hb);
},isParagraphParent:function(fH){if(!qx.dom.Node.isElement(fH)){return false;
}fH=qx.dom.Node.getName(fH);
return /^(body|td|th|caption|fieldset|div)$/.test(fH);
}},properties:{contentType:{check:df,init:eA},messengerMode:{check:dt,init:false},insertParagraphOnLinebreak:{check:dt,init:true},insertLinebreakOnCtrlEnter:{check:dt,init:true},postProcess:{check:cI,nullable:true,init:null},useUndoRedo:{check:dt,init:true}},members:{__vb:null,__vc:false,__vd:false,__ve:false,__vf:false,__vg:false,__uU:null,__vh:null,__vi:null,__vj:null,__vk:null,__uN:null,__uO:null,__uP:null,__uQ:null,__uR:null,__uS:null,__uM:null,__vl:null,__vm:null,__vn:false,__vo:false,__vp:function(q){if(qx.dom.Node.isElement(q)&&qx.dom.Node.isNodeName(q,eM)){this.__vb=q;
}},_createAndAddIframe:function(gN){this.__vk=qx.bom.Iframe.create();
qx.bom.Iframe.setSource(this.__vk,gN);
if(qx.core.Variant.isSet(eL,eJ)){qx.bom.element.Attribute.set(this.__vk,ef,dM);
}else{qx.bom.element.Style.set(this.__vk,eb,eu);
}qx.bom.element.Style.setStyles(this.__vk,{width:ep,height:ep});
qx.dom.Element.insertBegin(this.__vk,this.__vb);
},_getIframeDocument:function(){return qx.bom.Iframe.getDocument(this.__vk);
},_getIframeWindow:function(){return qx.bom.Iframe.getWindow(this.__vk);
},_addIframeLoadListener:function(){qx.event.Registration.addListener(this.__vk,cM,this._loaded,this);
},__vq:function(){this.__vl={"xhtml":{doctype:bt+ea+eY+et+bO+di,html:ew+cj,meta:ff,style:qx.core.Variant.select(eL,{"mshtml":bI+cs,"default":dK+dW}),contentStyle:ct,body:dY,footer:cD}};
},__uT:eK,getIframeObject:function(){return this.__vk;
},getCommandManager:function(){return this.__uU;
},setValue:function(fS){if(typeof fS===dm){this.__uT=fS;
var fT=this._getIframeDocument();

if(fT&&fT.body){fT.body.innerHTML=fS;
}}},getValue:function(){return this.__uT;
},getComputedValue:function(gF){return this.getHtml(gF);
},getCompleteHtml:function(){var l=this.__vl[this.getContentType()];
var k=l.html+eg+l.meta+fl+l.contentStyle+fi+eh;
k+=dO+this.__vr()+ci;
k+=this.getHtml()+cD;
return k;
},__vr:function(){var P=[bV,fc,dF,cn,cH,cJ,eW,fe,dH,bq,fd,dU,dA,dL];
var O=qx.bom.element.Style;
var N=this.getContentBody();
var S={};
var R,T;
var Q=qx.bom.client.Engine.MSHTML?2:1;

for(var i=0,j=P.length;i<j;i++){R=P[i];
T=O.get(N,R,Q);

if(T!==undefined&&T!=eK){S[R]=T;
}}return qx.bom.element.Style.compile(S);
},getContentDocument:function(){if(this.__vc){return this._getIframeDocument();
}},getContentBody:function(){if(this.__vc){return this._getIframeDocument().body;
}},getContentWindow:function(){if(this.__vc){return this._getIframeWindow();
}},getWords:function(hn){if(!hn){hn=this.getContentBody();
}
if(!hn){return [];
}var hp=hn.cloneNode(true);
hp.innerHTML=hp.innerHTML.replace(/>/gi,eX);
hp.innerHTML=hp.innerHTML.replace(/\n/gi,eE);
hp.innerHTML=hp.innerHTML.replace(/<!--.*-->/gi,eK);
var ho=qx.core.Variant.isSet(eL,cc)?hp.innerText:hp.textContent;
var hq=ho.match(qx.bom.htmlarea.HtmlArea.GetWordsRegExp);
return !hq?[]:hq;
},getWordsWithElement:function(){var fM=this.getTextNodes();
var fQ={};
var i,j,fR,fN,fL;

for(var i=0,fP=fM.length;i<fP;++i){fN=fM[i];
fR=fN.nodeValue.split(eE);

for(var j=0,fO=fR.length;j<fO;++j){fL=this._cleanupWord(fR[j]);

if(fL!=null&&fL.length>1){if(!fQ[fL]){fQ[fL]=[];
}fQ[fL].push(fN);
}}}return fQ;
},_cleanupWord:function(o){if(!o){return null;
}return o.replace(qx.bom.htmlarea.HtmlArea.CleanupWordsRegExp,eK);
},getTextNodes:function(){return this._fetchTextNodes(this.getContentBody());
},_fetchTextNodes:function(gb){var gd=[];
var gc;
if(gb.hasChildNodes){for(var i=0;i<gb.childNodes.length;i++){gc=this._fetchTextNodes(gb.childNodes[i]);
qx.lang.Array.append(gd,gc);
}}if(gb.nodeType==3){if(gb.nodeValue.length>1){gd.push(gb);
}}return gd;
},__vs:0,__vt:function(){var v=this._getIframeDocument();
if(!v){this.__vs++;

if(this.__vs>5){this.error('cant load HtmlArea. Document is not available. '+v);
this.fireDataEvent(eQ);
}else{{};
qx.event.Timer.once(function(){this.__vt();
},this,0);
}}else{this.__vs=0;
this._onDocumentIsReady();
}},_loaded:function(e){if(this.__ve){return;
}
if(this.__vd){this.__vu();
return;
}if(qx.core.Variant.isSet(eL,eJ)){this.__vt();
}else{this._onDocumentIsReady();
}},isReady:function(){return this.__vc;
},_onDocumentIsReady:function(){var gf=new qx.bom.htmlarea.manager.Command(this);

if(this.getUseUndoRedo()){gf=new qx.bom.htmlarea.manager.UndoRedo(gf,this);
}this.__ve=true;
if(qx.core.Variant.isSet(eL,eJ)){this.setEditable(true);
}this.__vx();
this.__vy();
if(!qx.core.Variant.isSet(eL,eJ)){this.setEditable(true);
}this.__vc=true;
this.__uU=gf;
gf.setContentDocument(this._getIframeDocument());
this.__vA();
this.fireEvent(ec);
},forceEditable:qx.core.Variant.select(eL,{"gecko":function(){var p=this._getIframeDocument();

if(p){if(qx.bom.client.Engine.VERSION>=dw){p.designMode=bQ;
p.body.contentEditable=false;
p.body.contentEditable=true;
}else{p.body.contentEditable=true;
this.__vB(true);
}}},"default":qx.lang.Function.empty}),invalidateEditor:qx.core.Variant.select(eL,{"gecko":function(){this.__ve=false;
this.__vc=false;
this.__vd=true;
},"default":function(){}}),__vu:qx.core.Variant.select(eL,{"gecko":function(){this.__vx();
this.__vy();
this.__uU.setContentDocument(this._getIframeDocument());
this.setEditable(true);
this.forceEditable();
this.__ve=true;
this.__vc=true;
this.__vd=false;
this.fireEvent(cO);
},"default":function(){}}),__vv:function(gJ){var gL=eK;

if(!gJ){return gL;
}
try{var gK=gJ.getAttribute(eq);

if(!gK){return gL;
}if(qx.core.Variant.isSet(eL,eJ)){gL=gK.cssText;
}else{gL=gK;
}}catch(ge){this.error("can't extract style from elem. ");
}return gL;
},__vw:function(hu){var hv=qx.bom.client.Engine.GECKO?dX:eK;
var hw=this.__vl[this.getContentType()];
var hx=eg+hw.meta+fl+hv+hw.style+hw.contentStyle+this.__uM+fi+eh;
var content=hw.body+hu;
return hw.html+hx+content+hw.footer;
},__vx:function(){var ht=this.getValue();

if(typeof ht==dm){var hs=this._getIframeDocument();

try{hs.open(dQ,true);
hs.write(this.__vw(ht));
hs.close();
}catch(e){this.error("cant open document on source '"+qx.bom.Iframe.queryCurrentUrl(this.__vk)+"'",e);
this.fireDataEvent(eQ,e);
}}},__vy:function(){var H=qx.event.Registration;
var F=this._getIframeDocument();
H.addListener(F.body,bD,this._handleKeyPress,this);
H.addListener(F.body,cv,this._handleKeyUp,this);
H.addListener(F.body,cu,this._handleKeyDown,this);
var G=qx.bom.client.Engine.WEBKIT?this._getIframeWindow():F.body;
H.addListener(G,fo,this.__uN,this);
H.addListener(G,fp,this.__uO,this);
H.addListener(F,ca,this.__uP,this);
var E=qx.bom.client.Engine.MSHTML?fm:ek;
H.addListener(F.body,E,this.__uQ,this);
H.addListener(F.documentElement,E,this.__uR,this);
H.addListener(F.documentElement,eR,this.__uS,this);
},__vz:function(){if(this.__vh==null){this.__vh={execute:function(fX,fY){this.stackedCommands=true;
this.commandStack.push({command:fX,value:fY});
},commandStack:[],stackedCommands:false};
}this.__vh.stackedCommands=false;
return this.__vh;
},__vA:function(){var hg=this.__vh;

if(hg!=null&&hg.stackedCommands){var hh=hg.commandStack;

if(hh!=null){for(var i=0,j=hh.length;i<j;i++){this.__uU.execute(hh[i].command,hh[i].value);
}}}},__vB:function(hy){var hz=this._getIframeDocument();

if(this.__ve&&hz){try{if(qx.core.Variant.isSet(eL,eI)){hz.designMode=(hy!==false)?bB:eN;
}hz.designMode=(hy!==false)?eN:bB;
}catch(e){}}},setEditable:function(w){if(this.__ve){this.__vB(true);
if(qx.core.Variant.isSet(eL,eI)){try{var x=this._getIframeDocument();
x.execCommand(cP,false,true);
}catch(t){try{var x=this._getIframeDocument();
x.execCommand(bN,false,false);
}catch(hA){if(!this.__vc){this.error("Failed to enable rich edit functionality");
this.fireDataEvent(eQ,hA);
}else{throw new Error("Failed to enable rich edit functionality");
}}}}this.__vf=w;
}},getEditable:function(){return this.__vf;
},isEditable:function(){return this.__vf;
},__vC:false,_handleKeyUp:function(e){var hd=e.getKeyIdentifier().toLowerCase();
var hf=e.isCtrlPressed();
this.__vi=e;

if(false&&qx.core.Setting.get(dq)==dp){this.debug(e.getType()+" | "+hd);
}if(qx.core.Variant.isSet(eL,eJ)){if(this.__vC){switch(hd){case eG:if(this.getInsertLinebreakOnCtrlEnter()){var he=this.__vK(this.getSelection());

if(he){he.collapse(true);
he.pasteHTML(dd);
}this.__vF();
}break;
case cz:this.__vC=false;
return;
break;
}}}else if(qx.core.Variant.isSet(eL,eI)){switch(hd){case eC:case dr:case fq:case en:case eO:case bH:case cw:case eP:case ei:this.__vg=(this.getFocusNode()==this.getContentBody().firstChild);
break;
}}else if(qx.core.Variant.isSet(eL,cd)){if(hf){if(this.getInsertLinebreakOnCtrlEnter()&&hd==eG){this.__vD();
e.preventDefault();
e.stopPropagation();
this.__vF();
}this.__vC=false;
}}},__vD:function(){var hi=this.getSelection();
var hj=eK;
if(hi&&(hi.focusNode.textContent==eK||hi.focusNode.parentElement.tagName==bv)){hj=bU;
}this.__uU.execute(dn,hj+qx.bom.htmlarea.HtmlArea.simpleLinebreak);
},_handleKeyDown:qx.core.Variant.select(eL,{"mshtml|webkit":function(e){var fE=e.getKeyIdentifier().toLowerCase();

if(false&&qx.core.Setting.get(dq)==dp){}if(this.__vC&&(fE==cB||fE==eo||fE==eT||fE==fh||fE==eV||fE==by)){e.preventDefault();
e.stopPropagation();
}if(fE==cz){this.__vC=true;
}},"default":function(e){}}),_handleKeyPress:function(e){var gk=this.getContentDocument();
var gg=e.getKeyIdentifier().toLowerCase();
var gi=e.isCtrlPressed();
var gj=e.isShiftPressed();
this.__vi=e;

if(false&&qx.core.Setting.get(dq)==dp){this.debug(e.getType()+" | "+gg);
}if(this.__vn){var gr=!(qx.core.Variant.isSet(eL,eJ)&&gg==eG)||!(qx.core.Variant.isSet(eL,eI)&&gg==eG);

if(gr){this.__vF();
this.__vn=false;
}}
switch(gg){case eG:if(!gj&&!gi&&this.getMessengerMode()){e.preventDefault();
e.stopPropagation();
var gp=new qx.event.type.Data(ce,this.getComputedValue());
this.dispatchEvent(gp,true);
this.resetHtml();
}if(gi){if(!this.getInsertLinebreakOnCtrlEnter()){return;
}e.preventDefault();
e.stopPropagation();

if(qx.core.Variant.isSet(eL,eI)){if(this.__vI()){this.insertHtml(bL);
this.__vF();
return;
}this.insertHtml(bM);
}else if(qx.core.Variant.isSet(eL,ej)){var gq=this.getSelection();
var gl=this.__vK(gq);

if(gq&&gl){var gm=gk.createElement(cL);
gl.collapse(true);
gl.insertNode(gm);
gl.collapse(true);
gl.selectNode(gm);
gq.addRange(gl);
gl.collapse(true);
}}this.__vF();
}if(qx.core.Variant.isSet(eL,eJ)){if(!this.getInsertParagraphOnLinebreak()){if(this.__uU.execute(dn,qx.bom.htmlarea.HtmlArea.simpleLinebreak)){this.__vF();
e.preventDefault();
e.stopPropagation();
}}}else if(qx.core.Variant.isSet(eL,eI)){if(this.getInsertParagraphOnLinebreak()&&!gj&&!gi){var gq=this.getSelection();

if(gq){var gh=gq.focusNode;
if(this.__vI()){this.__vF();
return;
}if(this.__vJ()){this.__vF();
return;
}while(!qx.dom.Node.isNodeName(gh,dk)){if(qx.dom.Node.isNodeName(gh,bY)){this.__vF();
return;
}gh=gh.parentNode;
}}this.__uU.insertParagraphOnLinebreak();
e.preventDefault();
e.stopPropagation();
this.__vF();
this.__vn=true;
}}else if(qx.core.Variant.isSet(eL,cd)){if(this.getInsertParagraphOnLinebreak()&&gj){this.__vD();
e.preventDefault();
e.stopPropagation();
this.__vF();
}}break;
case fq:if(qx.bom.client.Engine.GECKO&&qx.bom.client.Engine.FULLVERSION<1.9&&gj){var gq=this.getSelection();
if(gq&&gq.focusNode==gk.body.firstChild){if(this.__vg){if(gq.focusOffset!=0){gq.extend(gq.focusNode,0);
}}}}break;
case cE:if(qx.bom.client.Engine.GECKO&&qx.bom.client.Engine.FULLVERSION<1.9){if(gi){var gq=this.getSelection();
if(gj){if(gq&&(gq.focusOffset!=0)||(gq.focusNode!=gk.body.firstChild)){gq.extend(gk.body.firstChild,0);
}}else{var gn=null;
var go;
if(gk){gn=gk.evaluate(da,gk.body,null,XPathResult.ANY_TYPE,null);
}
if(gn&&gq){while(go=gn.iterateNext()){if(go&&go.parentNode&&go.parentNode.tagName!=bp){try{gq.extend(go,0);

if(!this.isSelectionCollapsed()){gq.collapseToStart();
}}catch(e){}break;
}}}}}}this.__vF();
break;
case eC:case dr:case en:case eO:case bH:case cw:case eP:case ei:this.__vF();
break;
case eT:if(gi){this.__vE(cg,true);
}break;
case eV:case by:if(gi){this.__vE(bu,true);
}break;
case fh:if(gi){this.__vE(ch,true);
}break;
case cB:if(gi&&!gj){this.__vE(bX,true);
}else if(gi&&gj){this.__vE(bA,true);
}break;
case eo:if(gi){this.__vE(bA,true);
}break;
case dD:if(gi){this.selectAll();
}break;
}this.__vi=null;
},__vE:function(b,c){var f=null;
var d=qx.bom.htmlarea.HtmlArea.hotkeyInfo;

if(d[b]){f=d[b].method;
}
if(f!=null&&this[f]){this[f]();

if(c){this.__vi.preventDefault();
this.__vi.stopPropagation();
}
if(this.isSelectionCollapsed()){this.__vn=true;
}this.__vF();
}},_handleFocusEvent:function(e){this.__vj=null;
this.fireEvent(cG);
},_handleBlurEvent:function(e){this.__uT=this.getComputedValue();
},_handleFocusOutEvent:function(e){if(this.__vj==null){this.__vj=this.getSelectedHtml();
}this.fireEvent(es);
},_handleMouseUpOnBody:function(e){if(false&&qx.core.Setting.get(dq)==dp){this.debug("handleMouse "+e.getType());
}this.__vo=true;
this.__vF();
},_handleMouseUpOnDocument:qx.core.Variant.select(eL,{"mshtml":function(e){},"default":function(e){if(!this.__vo){qx.bom.Element.activate(this.getContentBody());
}this.__vo=false;
}}),_handleContextMenuEvent:function(e){var fB=e.getViewportLeft();
var fA=e.getViewportTop();
var fC=qx.bom.element.Location.getLeft(this.__vb)+fB;
var fD=qx.bom.element.Location.getTop(this.__vb)+fA;
var fz={x:fC,y:fD,relX:fB,relY:fA,target:e.getTarget()};
e.preventDefault();
e.stopPropagation();
qx.event.Timer.once(function(){this.fireDataEvent(eR,fz);
},this,0);
},isLoaded:function(){return this.__ve;
},insertHtml:function(m){return this.__uU.execute(dn,m);
},removeFormat:function(){return this.__uU.execute(dI);
},setBold:function(){return this.__uU.execute(em);
},setItalic:function(){return this.__uU.execute(dl);
},setUnderline:function(){return this.__uU.execute(dj);
},setStrikeThrough:function(){return this.__uU.execute(bS);
},setFontSize:function(fy){return this.__uU.execute(ez,fy);
},setFontFamily:function(r){return this.__uU.execute(dP,r);
},setTextColor:function(I){return this.__uU.execute(cK,I);
},setTextBackgroundColor:function(fG){return this.__uU.execute(bT,fG);
},setJustifyLeft:function(){return this.__uU.execute(er);
},setJustifyCenter:function(){return this.__uU.execute(bP);
},setJustifyRight:function(){return this.__uU.execute(dh);
},setJustifyFull:function(){return this.__uU.execute(bo);
},insertIndent:function(){return this.__uU.execute(dG);
},insertOutdent:function(){return this.__uU.execute(dv);
},insertOrderedList:function(){return this.__uU.execute(dV);
},insertUnorderedList:function(){return this.__uU.execute(dx);
},insertHorizontalRuler:function(){return this.__uU.execute(dc);
},insertImage:function(fF){return this.__uU.execute(dE,fF);
},insertHyperLink:function(n){return this.__uU.execute(bK,n);
},removeBackgroundColor:function(){this.__uU.execute(cb,ck);
},setBackgroundColor:function(M){this.__uU.execute(cb,M);
},removeBackgroundImage:function(){this.__uU.execute(fn);
},setBackgroundImage:function(z,A,B){return this.__uU.execute(fn,[z,A,B]);
},selectAll:function(){return this.__uU.execute(de);
},undo:function(){if(this.getUseUndoRedo()){return this.__uU.execute(bF);
}else{return true;
}},redo:function(){if(this.getUseUndoRedo()){return this.__uU.execute(eU);
}else{return true;
}},resetHtml:function(){var gG=this._getIframeDocument();
while(gG.body.firstChild){gG.body.removeChild(gG.body.firstChild);
}if(qx.bom.client.Engine.GECKO){gG.body.innerHTML=ed;
}else if(qx.bom.client.Engine.WEBKIT){var gH=this.getSelection();
var gI=gG.createRange();

if(gI&&gH){gH.addRange(gI);
}}},getHtml:function(fJ){var fK=this._getIframeDocument();

if(fK==null){return null;
}return qx.bom.htmlarea.HtmlArea.__uX(fK.body,false,fJ,this.getPostProcess());
},containsOnlyPlaceholder:qx.core.Variant.select(eL,{"mshtml":function(){var gM=this._getIframeDocument();
return (gM.body.innerHTML==cU);
},"default":function(){return false;
}}),getContextInformation:function(){return this.__vG();
},__vF:function(){qx.event.Timer.once(function(e){var gs=this.__vG();
this.fireDataEvent(cq,gs);
},this,200);
},__vG:function(){if(this._processingExamineCursorContext||this.getEditable()==false){return;
}this._processingExamineCursorContext=true;
var bc=this._getIframeDocument();
var X=this.getFocusNode();

if(qx.dom.Node.isText(X)){X=X.parentNode;
}var bl=qx.core.Variant.isSet(eL,eJ)?X.currentStyle:bc.defaultView.getComputedStyle(X,null);
var bf=qx.core.Variant.isSet(eL,cc)?bl.fontWeight==700:bl.getPropertyValue(bw)==em||qx.dom.Node.isNodeName(X,eT);
var U=qx.core.Variant.isSet(eL,eJ)?bl.fontStyle==dl:bl.getPropertyValue(eB)==dl;
var ba=qx.core.Variant.isSet(eL,eJ)?bl.textDecoration.indexOf(dj)!==-1:bl.getPropertyValue(bG).indexOf(dj)!==-1;
var Y=qx.core.Variant.isSet(eL,eJ)?bl.textDecoration.indexOf(cA)!==-1:bl.getPropertyValue(bG).indexOf(cA)!==-1;
var bi=qx.core.Variant.isSet(eL,eJ)?bl.fontSize:bl.getPropertyValue(dJ);
var bn=null;
var bg=qx.core.Variant.isSet(eL,eJ)?bl.fontFamily:bl.getPropertyValue(ee);
var be=false;
var bk=false;
var V=X;
if(V!=null&&V.parentNode!=null&&!qx.dom.Node.isDocument(V.parentNode)){while(V!=null&&!qx.dom.Node.isNodeName(V,dk)){var bd=qx.dom.Node.getName(V);

if(bd==cY){bk=true;
break;
}else if(bd==cr){be=true;
break;
}
if(bn==null||bn==eK){bn=this._getAttribute(V,fb);
}V=V.parentNode;
}}var bb=qx.core.Variant.isSet(eL,eJ)?bl.textAlign==eC:bl.getPropertyValue(ds)==eC;
var bm=qx.core.Variant.isSet(eL,eJ)?bl.textAlign==fj:bl.getPropertyValue(ds)==fj;
var W=qx.core.Variant.isSet(eL,eJ)?bl.textAlign==dr:bl.getPropertyValue(ds)==dr;
var bj=qx.core.Variant.isSet(eL,eJ)?bl.textAlign==fk:bl.getPropertyValue(ds)==fk;
var bh={bold:bf?1:0,italic:U?1:0,underline:ba?1:0,strikethrough:Y?1:0,fontSize:(bn==null)?bi:bn,fontFamily:bg,insertUnorderedList:be?1:0,insertOrderedList:bk?1:0,justifyLeft:bb?1:0,justifyCenter:bm?1:0,justifyRight:W?1:0,justifyFull:bj?1:0};
this._processingExamineCursorContext=false;
return bh;
},_getAttribute:qx.core.Variant.select(eL,{"mshtml":function(hF,hG){try{return hF[hG];
}catch(e){return null;
}},"default":function(C,D){try{return C.getAttribute(D);
}catch(e){return null;
}}}),getSelection:qx.core.Variant.select(eL,{"mshtml":function(){return this._getIframeDocument()?this._getIframeDocument().selection:null;
},"default":function(){return this._getIframeWindow()?this._getIframeWindow().getSelection():null;
}}),isSelectionCollapsed:qx.core.Variant.select(eL,{"mshtml":function(){return this.getSelection()&&this.getSelection().type==cy;
},"default":function(){return this.getSelection()&&this.getSelection().isCollapsed;
}}),getSelectedText:qx.core.Variant.select(eL,{"mshtml":function(){return this.getRange()?this.getRange().text:eK;
},"default":function(){return this.getRange()?this.getRange().toString():eK;
}}),getSelectedHtml:function(){if(this.__vj!=null){return this.__vj;
}var y=this.getRange();

if(!y){return eK;
}else{return this.__vH(y);
}},__vH:qx.core.Variant.select(eL,{"mshtml":function(hr){if(!hr){return eK;
}return hr.item?hr.item(0).outerHTML:hr.htmlText;
},"default":function(ft){var fu=this._getIframeDocument();

if(fu&&ft){try{var fv=fu.createElement(dk);
fv.appendChild(ft.cloneContents());
return fv.innerHTML;
}catch(hc){}return ft+eK;
}return eK;
}}),clearSelection:qx.core.Variant.select(eL,{"mshtml":function(){var ga=this.getSelection();

if(ga){ga.empty();
}},"default":function(){var fI=this.getSelection();

if(fI){fI.collapseToStart();
}}}),__vI:qx.core.Variant.select(eL,{"gecko":function(){var fw=this.getSelection();
var fx=this.getFocusNode();
return fw&&this.isSelectionCollapsed()&&qx.dom.Node.isText(fx)&&fw.anchorOffset<fx.length;
},"default":function(){return false;
}}),__vJ:qx.core.Variant.select(eL,{"gecko":function(){return qx.dom.Node.isElement(this.getFocusNode());
},"default":function(){return false;
}}),getRange:function(){return this.__vK(this.getSelection());
},__vK:qx.core.Variant.select(eL,{"mshtml":function(hl){var hm=this._getIframeDocument();

if(hl){try{return hl.createRange();
}catch(J){return hm.body.createTextRange();
}}else{return hm.body.createTextRange();
}},"default":function(fU){var fV=this._getIframeDocument();

if(fU){try{return fU.getRangeAt(0);
}catch(L){return fV.createRange();
}}else{return fV.createRange();
}}}),saveRange:qx.core.Variant.select(eL,{"mshtml":function(){this.__vm=this.getRange();
},"default":function(){}}),getSavedRange:qx.core.Variant.select(eL,{"mshtml":function(){return this.__vm;
},"default":function(){}}),resetSavedRange:qx.core.Variant.select(eL,{"mshtml":function(){this.__vm=null;
},"default":function(){}}),getFocusNode:qx.core.Variant.select(eL,{"mshtml":function(){var g=this.getSelection();
var h;

switch(g.type){case cp:case cy:h=this.__vK(g);
h.collapse(false);
return h.parentElement();
case fg:h=this.__vK(g);

try{h.collapse(false);
}catch(K){}return h.item(0);
default:return this._getIframeDocument().body;
}},"default":function(){var u=this.getSelection();

if(u&&u.focusNode){return u.focusNode;
}return this._getIframeDocument().body;
}})},settings:{"qx.bom.htmlarea.HtmlArea.debug":bs},destruct:function(){try{var hC=this._getIframeDocument();
var hE=qx.event.Registration;
hE.removeListener(hC.body,bD,this._handleKeyPress,this);
hE.removeListener(hC.body,cv,this._handleKeyUp,this);
hE.removeListener(hC.body,cu,this._handleKeyDown,this);
var hD=qx.bom.client.Engine.WEBKIT?this._getIframeWindow():hC.body;
hE.removeListener(hD,fo,this.__uN);
hE.removeListener(hD,fp,this.__uO);
hE.removeListener(hC,ca,this.__uP);
var hB=qx.bom.client.Engine.MSHTML?fm:ek;
hE.removeListener(hC.body,hB,this.__uQ,this);
hE.removeListener(hC.body,hB,this.__uR,this);
hE.removeListener(hC.documentElement,eR,this.__uS,this);
}catch(hk){}this._disposeObjects(db);
this.__uN=this.__uO=this.__uP=null;
this.handleMouseUpOnBody=this.__uR=this.__vl=null;
this.__vk=this.__vb=null;
}});
})();
(function(){var eO="qx.client",eN="",eM="legacy-font-size",eL="mshtml",eK="inserthtml",eJ="span",eI='color',eH="text-decoration",eG="__wd",eF=';',dQ="transparent",dP='">',dO="child",dN="gecko",dM="text-align",dL='text-decoration',dK="BackColor",dJ="FontSize",dI="BODY",dH="</font>",eV="backgroundPosition",eW="p",eT="underline",eU='|',eR="id",eS="__we",eP="string",eQ="background-color",eX="backgroundRepeat",eY="font",ep=":",eo="InsertHtml",er="none",eq=";",et="px",es="backgroundImage",ev="font-size",eu="Control",en="__paragraph__",em=':',cx="qx.bom.htmlarea.HtmlArea.debug",cy="on",cz="size",cA="textDecoration",cB="undefined",cC="backgroundColor",cD="_moz",cE="top",cF="/>",cG="formatBlock",fd="__wx",fc="insertParagraph",fb="li",fa='<span style="',fh="<img ",fg="no-repeat",ff=' <a href="',fe="FONT",fj="|top|bottom|center|left|right|right top|left top|left bottom|right bottom|",fi="__placeholder__",dg="JustifyCenter",dh="<p style='",de="outdent",df='</a> ',dk="InsertImage",dl="__resetHtml",di="FontName",dj="blockquote",dc="__ws",dd="style",cO="P",cN="qx.bom.htmlarea.manager.Command",cQ="'><br class='webkit-block-placeholder' />",cP="a",cK='"',cJ="<span></span>",cM="__wj",cL="type",cI="CreateLink",cH="__wr",dr="='",ds="qx_link",dt='"></span>',du="Italic",dm=" ",dn="__wu",dp="InsertUnorderedList",dq="OL",dv='text-align:',dw="Bold",cY="ForeColor",cX="url(",cW='" ',cV="repeat repeat-x repeat-y no-repeat",cU='</p>',cT="<hr />",cS="__wg",cR='<font style="',db="IMG",da="__wt",dx='<p id="',dy="StrikeThrough",dz="LI",dA="__getHtml",dB='>',dC="__ww",dD='" size="',dE="Indent",dF="HiliteColor",dG="br",dU="Copy",dT="</span>",dS="Paste",dR="RemoveFormat",dY="__wv",dX="indent",dW="' ",dV='',eb='style="',ea="__wi",ei="_moz_dirty",ej="color",eg="JustifyLeft",eh="JustifyRight",ee="Underline",ef="SelectAll",ec="Cut",ed="line-through",ek=")",el="href",ey='<span id="',ew="__vY",eA="UL",ez="JustifyFull",eC="Outdent",eB="webkit",eE="selectall",eD="InsertOrderedList";
qx.Class.define(cN,{extend:qx.core.Object,construct:function(bI){arguments.callee.base.call(this);
this.__vL=bI;
this.__vM=null;
this._commands=null;
this.__vT();
this.__vN={"Bold":true,"Italic":true,"Underline":true,"StrikeThrough":true};
this.__vO=[10,12,16,18,24,32,48];
this.__vP=0;
},statics:{__vQ:fj,__vR:cV},members:{__vM:null,__vL:null,__vS:false,__vN:null,__vO:null,__vP:null,setContentDocument:function(bs){this.__vM=bs;
},getCommandObject:function(h){if(this._commands[h]){return this._commands[h];
}else{return null;
}},__vT:function(){this._commands={bold:{useBuiltin:true,identifier:dw,method:null},italic:{useBuiltin:true,identifier:du,method:null},underline:{useBuiltin:true,identifier:ee,method:null},strikethrough:{useBuiltin:true,identifier:dy,method:null},fontfamily:{useBuiltin:true,identifier:di,method:null},fontsize:{useBuiltin:false,identifier:dJ,method:cH},textcolor:{useBuiltin:true,identifier:cY,method:null},textbackgroundcolor:{useBuiltin:false,identifier:null,method:dc},backgroundcolor:{useBuiltin:false,identifier:null,method:da},backgroundimage:{useBuiltin:false,identifier:null,method:dn},justifyleft:{useBuiltin:false,identifier:eg,method:eG},justifyright:{useBuiltin:false,identifier:eh,method:eG},justifycenter:{useBuiltin:false,identifier:dg,method:eG},justifyfull:{useBuiltin:false,identifier:ez,method:eG},indent:{useBuiltin:true,identifier:dE,method:null},outdent:{useBuiltin:true,identifier:eC,method:null},copy:{useBuiltin:true,identifier:dU,method:null},cut:{useBuiltin:true,identifier:ec,method:null},paste:{useBuiltin:true,identifier:dS,method:null},insertorderedlist:{useBuiltin:false,identifier:eD,method:eS},insertunorderedlist:{useBuiltin:false,identifier:dp,method:eS},inserthorizontalrule:{useBuiltin:false,identifier:eo,method:cM},insertimage:{useBuiltin:false,identifier:dk,method:cS},inserthyperlink:{useBuiltin:false,identifier:cI,method:ea},selectall:{useBuiltin:false,identifier:ef,method:dY},selectedtext:{useBuiltin:false,identifier:null,method:dC},selectedhtml:{useBuiltin:false,identifier:null,method:fd},inserthtml:{useBuiltin:false,identifier:eo,method:ew},resethtml:{useBuiltin:false,identifier:null,method:dl},gethtml:{useBuiltin:false,identifier:null,method:dA},removeformat:{useBuiltin:true,identifier:dR,method:null}};
},execute:function(fH,fI){if(!this.__vL.isReady()){this.error("editor not ready! '"+fH+"':'"+fI+"'");
return false;
}fH=fH.toLowerCase();
fI=fI!=null?fI:null;
if(this._commands[fH]){var fJ;
var fK=this._commands[fH];
if(!(qx.bom.client.Engine.WEBKIT&&(fH==dX||fH==de))){if(this.__vU()){this.__vV();
}}if(fK.useBuiltin){fJ=this.__vW(fK.identifier,false,fI);
}else{if(fK.method!=null&&this[fK.method]){fJ=this[fK.method].call(this,fI,fK);
}else{this.error("The method '"+fK.method+"' you calling to execute the command '"+fH+"' is not available!");
}}this.__vL.resetSavedRange();
return fJ;
}else{this.error("Command "+fH+" is currently not supported!");
}},__vU:function(){var gO=this.__vL.getFocusNode();
var gR=false;
var gP=false;

if(gO){if(gO.nodeType==3){var gQ=qx.dom.Hierarchy.getAncestors(gO);

for(var i=0,j=gQ.length;i<j;i++){if(gQ[i].tagName==cO){gR=true;
break;
}}}else if(gO.nodeType==1&&gO.tagName==dI){gP=true;
}}return gP||!gR;
},__vV:function(){this.__vW(cG,false,eW);
},__vW:function(fA,fB,fC){try{var fF=this.__vM;
var fD=false;
var fE=this.__vL.getRange();
this.__vM.body.focus();
if(qx.core.Variant.isSet(eO,eL)){if(fA!=eE){fE.select();
if(((fE.text)&&(fE.text.length>0))||((fE.length==1)&&(fE.item(0))&&(fE.item(0).tagName==db))){fF=fE;
}else{fF=this.__vM;
}}if((qx.core.Variant.isSet(eO,eL))&&(this.__vN[fA])){if(fE.text==eN){fD=true;
}}}var fG=fF.execCommand(fA,fB,fC);

if(fD&&fE.text!=eN){fE.collapse();
}
if(false&&qx.core.Setting.get(cx)==cy){this.debug("execCommand "+fA+" with value "+fC+" succeded");
}this.__vS=false;
}catch(gl){if(false&&qx.core.Setting.get(cx)==cy){this.debug("execCommand "+fA+" with value "+fC+" failed");
}return false;
}return fG;
},__vX:qx.core.Variant.select(eO,{"mshtml":function(){var ci=this.__vL;
var ch=ci.getSavedRange()!=null?ci.getSavedRange():ci.getRange();
return ch;
},"default":function(){return this.__vL.getRange();
}}),__vY:qx.core.Variant.select(eO,{"mshtml":function(cs,ct){var cw;
if(cs==qx.bom.htmlarea.HtmlArea.simpleLinebreak){return this.__wc();
}else{this.__vM.body.focus();
var cv=this.__vL.getSelection();
var cu=this.__vX();
if(cu&&cv&&cv.type!=eu){try{cu.pasteHTML(cs);
cu.collapse(false);
cu.select();
cw=true;
}catch(e){}}else{cw=false;
}this.__vL.resetSavedRange();
return cw;
}},"default":function(v,w){this.__vM.body.focus();
return this.__vM.execCommand(w.identifier,false,v);
}}),insertParagraphOnLinebreak:qx.core.Variant.select(eO,{"gecko":function(){var bA=this.__wm();
var bE=this.__wa(bA);
var bw=this.__wk(bA);
var bB=fi+Date.parse(new Date());
var bC=en+Date.parse(new Date());
var bu=dV;
var by=ey+bB+dt;
bu+=by;
bu+=dx+bC+cW+bE+dB;
bu+=bw+cU;
this.__vL.getCommandManager().addUndoStep(eK,fc,this.getCommandObject(eK));
this.execute(eK,bu);
this.__wb();
this.__vM.getElementById(bB).removeAttribute(eR);
var bz=this.__vM.getElementById(bC);

if(bz.previousSibling.innerHTML==by){var bt=this.__wl();
var bx=this.__vM.createElement(dG);
var bv=this.__vM.createAttribute(ei);
bv.nodeValue=eN;
bx.setAttributeNode(bv);
var bD=this.__vM.createAttribute(cL);
bD.nodeValue=cD;
bx.setAttributeNode(bD);
bz.previousSibling.appendChild(bt);
bz.previousSibling.appendChild(bx);
}return true;
},"webkit":function(){var fO=this.getCurrentStyles();
var fP=eN;
var fR={"background-color":true,"text-align":true};
for(var fQ in fO){if(fR[fQ]){fP+=fQ+ep+fO[fQ]+eq;
}}this.__vL.insertHtml(dh+fP+cQ);
},"default":qx.lang.Function.empty}),__wa:qx.core.Variant.select(eO,{"gecko":function(bd){var bi=eb;
var bh=bd.child;

if(bh[dM]){bi+=dv+bh[dM]+eF;
delete bd.child[dM];
}var bg={"padding-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true};
var be={"margin-top":true,"margin-bottom":true,"margin-left":true,"margin-right":true};

for(var bf in bh){if(bg[bf]||be[bf]){bi+=bf+em+bh[bf]+eF;
delete bd.child[bf];
}}bi+=cK;
return bi;
},"default":function(){return eN;
}}),__wb:qx.core.Variant.select(eO,{"gecko":function(){var t=this.__vL.getSelection();

if(!t||!t.focusNode){return;
}var m=t.focusNode;
var r=t.focusNode;

while(!qx.dom.Node.isNodeName(r,eW)){r=r.parentNode;
}var q=r.previousSibling.id;
var u=r.nextSibling?r.nextSibling.id:null;

if(qx.lang.String.startsWith(q,en)&&q==u){var s=r.nextSibling;
var o=this.__vL.getRange();
o.selectNode(s);
t.addRange(o);
var n=qx.bom.htmlarea.HtmlArea.EMPTY_DIV;
this.__vL.getCommandManager().addUndoStep(eK,n,this.getCommandObject(eK));
this.execute(eK,n);
var p=this.__vL.getRange();

if(m){while(m&&m.firstChild&&qx.dom.Node.isElement(m.firstChild)){m=m.firstChild;
}}p.selectNode(m);
t.addRange(p);
p.collapse(true);
}},"default":qx.lang.Function.empty}),__wc:qx.core.Variant.select(eO,{"mshtml":function(){var bF=this.__vL.getRange();
if(bF&&!qx.dom.Node.isNodeName(bF.parentElement(),fb)){bF.pasteHTML(qx.bom.htmlarea.HtmlArea.simpleLinebreak);
bF.collapse(false);
bF.select();
return true;
}return false;
},"default":function(){return false;
}}),__wd:function(x,y){var z=qx.core.Variant.isSet(eO,eL)?this.__vL.getRange():this.__vM;
return z.execCommand(y.identifier,false,x);
},__we:function(c,d){if(qx.core.Variant.isSet(eO,eL)){var f=this.__vL.getFocusNode();
this.__wf(f);
}this.__vM.body.focus();
var g=this.__vM.execCommand(d.identifier,false,c);

if(qx.core.Variant.isSet(eO,eB)){var f=this.__vL.getFocusNode();
this.__wf(f.parentNode);
}return g;
},__wf:function(bS){var bT=[];
var parent=bS.parentNode;

while(qx.dom.Node.isNodeName(parent,dj)){bT.push(parent);
parent=parent.parentNode;
}if(bT.length>0){parent.appendChild(bS);
parent.removeChild(bT[bT.length-1]);
}},__wg:qx.core.Variant.select(eO,{"gecko":function(F,G){if(F.src){this.__vM.execCommand(G.identifier,false,F.src);
delete F.src;
var T=this.__vL.getSelection();
if(T){var S=T.anchorNode;
var N=T.anchorOffset;
var K=S.childNodes[N-1];
var Q;

for(var M in F){Q=this.__vM.createAttribute(M);
Q.nodeValue=F[M];
K.setAttributeNode(Q);
}var L={"font":true,"span":true};
var I=null;
var P=true;
if(qx.dom.Node.isElement(K.previousSibling)&&L[qx.dom.Node.getName(K.previousSibling)]){I=K.previousSibling;
}else if(L[qx.dom.Node.getName(K.parentNode)]){I=K.parentNode;
P=false;
}var J=this.__vM.createDocumentFragment();
var U;

if(P&&I!=null){var L=this.__wh(I);
J.appendChild(L.root);
U=L.inline;
}else{U=this.__vM.createElement(eJ);
J.appendChild(U);
}var R=this.__vM.createTextNode(eN);
U.appendChild(R);
var O=K.parentNode;
if(K==O.lastChild){O.appendChild(J);
}else{O.insertBefore(J,K.nextSibling);
}var H=this.__vL.getRange();
H.selectNodeContents(U);
}return true;
}else{return false;
}},"mshtml":function(bJ,bK){var bO;
var bP=fh;

for(var bL in bJ){bP+=bL+dr+bJ[bL]+dW;
}bP+=cF;
var bM=this.__vL.getSelection();
var bN=this.__vX();
if(bM&&bM.type!=eu){bN.select();
bN.pasteHTML(bP);
bO=true;
}else{bO=false;
}this.__vL.resetSavedRange();
return bO;
},"default":function(hc,hd){return this.__vM.execCommand(hd.identifier,false,hc.src);
}}),__wh:function(cj){while(cj.firstChild&&cj.firstChild.nodeType==1){cj=cj.firstChild;
}var cn=this.__wm(cj);
var cr,cl,cp;
var ck=eN;
var parent=null;
var cq=null;
var co=cn.child;

while(co){cq=this.__vM.createElement(co[eM]?eY:eJ);
cl=this.__vM.createAttribute(dd);
cq.setAttributeNode(cl);
for(var cm in co){if(cm!=dO&&cm!=eM){ck+=cm+ep+co[cm]+eq;
}else if(cm==eM){cp=this.__vM.createAttribute(cz);
cp.nodeValue=co[cm];
cq.setAttributeNode(cp);
}}cl.nodeValue=ck;

if(parent!=null){parent.appendChild(cq);
}else{cr=cq;
}parent=cq;
co=co.child;
ck=eN;
}return {root:cr,inline:cq};
},__wi:qx.core.Variant.select(eO,{"gecko":function(gS,gT){var ha=this.__vL.getSelection();
var gW=this.__vL.getRange();
if(ha.isCollapsed){var gV=ds+(++this.__vP);
var hb=this.__vM.createElement(cP);
var gX=this.__vM.createAttribute(el);
var gU=this.__vM.createAttribute(eR);
var gY=this.__vM.createTextNode(gS);
gU.nodeValue=gV;
hb.setAttributeNode(gU);
gX.nodeValue=gS;
hb.setAttributeNode(gX);
hb.appendChild(gY);
gW.insertNode(hb);
gW.selectNode(hb);
ha.collapseToEnd();
return true;
}else{return this.__vM.execCommand(gT.identifier,false,gS);
}},"mshtml":function(bl,bm){try{var bo;
var bn=this.__vX();
var bp=this.__vL;
var bn=bp.getSavedRange()!=null?bp.getSavedRange():bp.getRange();

if(bn!=null&&bn.text!=eN){bo=bn.execCommand(bm.identifier,false,bl);
}else{bo=this.__vY(ff+bl+dP+bl+df,bm);
}this.__vL.resetSavedRange();
return bo;
}catch(e){{};
return false;
}},"default":function(fk,fl){return this.__vM.execCommand(fl.identifier,false,fk);
}}),__wj:function(fL,fM){var fN=cT;
if(qx.core.Variant.isSet(eO,dN)){fN+=this.__wk();
}return this.__vY(fN,fM);
},__wk:function(fY){var gd=eN;
var gc=fa;
var gb=[];
var gg=typeof fY!==cB?fY:this.__wm();
var ge=gg.child;
var gf=false;

while(ge){gf=ge[eM]!=null;
gd+=gf?cR:gc;

for(var ga in ge){gd+=(ga!=dO&&ga!=eM)?ga+em+ge[ga]+eF:eN;
}gd+=gf?dD+ge[eM]+dP:dP;
gb.unshift(gf?dH:dT);
ge=ge.child;
}if(gb.length==1&&gb[0]==dH){gd+=cJ;
}for(var i=0,j=gb.length;i<j;i++){gd+=gb[i];
}return gd;
},__wl:function(){var gt=this.__vM.createDocumentFragment();
var gy=this.__wm();
var parent=gt;
var gw=gy.child;
var gu;
var gx=false;

while(gw){gx=gw[eM]!=null;
gu=this.__vM.createElement(gx?eY:eJ);
parent.appendChild(gu);
for(var gs in gw){if(gs!=dO&&gs!=eM){qx.bom.element.Style.set(gu,gs,gw[gs]);
}}
if(gx){var gv=this.__vM.createAttribute(cz);
gv.nodeValue=gw[eM];
gu.setAttributeNode(gv);
}parent=gu;
gw=gw.child;
}return gt;
},__wm:function(he){var hg={};
var hh=null;
var hi=this.getCurrentStyles(he);
hh=hg.child={};

for(var hf in hi){if(hf!=eH){hh[hf]=hi[hf];
}}if(hi[eH]){var hj=hi[eH];
for(var i=0,j=hj.length;i<j;i++){if(hh==null){hh=hg.child={};
}else{hh=hh.child={};
}hh[eI]=hj[i][eI];
hh[dL]=hj[i][dL];
}}if(hi[eI]&&hi[dL]){hh=hh.child={};
hh[eI]=hi[eI];
}return hg;
},getCurrentStyles:function(gm){if(gm==null){var go=this.__vL.getSelection();

if(!go||go.focusNode==null){return {};
}gm=(go.focusNode.nodeType==3)?go.focusNode.parentNode:go.focusNode;
}var gp=qx.dom.Hierarchy.getAncestors(gm);
var gr=qx.lang.Array.insertBefore(gp,gm,gp[0]);
var gn=this.__wn(gr);
var gq=this.__wo(gn,gr);
return gq;
},__wn:function(gB){var gE={};
var gC,gD;

for(var i=0,j=gB.length;i<j;i++){gD=gB[i];

for(var k=0,l=gD.style.length;k<l;k++){gC=gD.style[k];

if(gC.length>0&&typeof gE[gC]===cB){gE[gC]=gD.style.getPropertyValue(gC);
}}if(gD.tagName.toUpperCase()==fe&&gD.size&&gE[eM]===undefined){gE[eM]=gD.size;
}}if(gE[eM]&&gE[ev]){delete gE[ev];
}return gE;
},__wo:function(bU,bV){var cb=bV[0];
var bY=this.__vL.getContentWindow().getComputedStyle(cb,null);
var bW;
var ca={};

for(var bX in bU){if(bX!=eM){bW=bY.getPropertyValue(bX);
}else{bW=bU[bX];
}if(bX==eQ&&bW==dQ){ca[bX]=this.__wq(bV);
}else if(bX==eH){ca[bX]=this.__wp(bV);
}else{ca[bX]=bW;
}}return ca;
},__wp:function(fS){var fV,fX,fT;
var fW=[];
var fU=this.__vL.getContentWindow();

for(var i=0,j=fS.length;i<j;i++){fT=fU.getComputedStyle(fS[i],null);
fV=fT.getPropertyValue(eH);
fX=fT.getPropertyValue(ej);
if(fV!=er){fW.push({'text-decoration':fV,'color':fX});
}}return fW;
},__wq:function(gh){var gj,gi,gk;

for(var i=0;i<gh.length;i++){gj=gh[i];
gi=this.__vL.getContentWindow().getComputedStyle(gj,null);
gk=gi.getPropertyValue(eQ);
if(gk!=dQ){return gk;
}}},__wr:function(fm,fn){var fz=this.__vL.getSelection();
var fu=(qx.core.Variant.isSet(eO,eL))?this.__vL.getRange():fu=fz.getRangeAt(0);
var fv=[];
var fy;
var ft=[dq,eA];
var fo,i,j,fw;
fw=(qx.core.Variant.isSet(eO,eL))?fu.parentElement():fu.commonAncestorContainer;
if(fw.tagName==dI){for(var i=0;i<ft.length;i++){fo=fw.getElementsByTagName(ft[i]);

for(var j=0;j<fo.length;j++){if(fo[j]){fv.push(fo[j]);
}}}}else if(qx.lang.Array.contains(ft,fw.tagName)){fv.push(fw);
}
if(fv.length>0){for(var i=0;i<fv.length;i++){var fq=fv[i];
fy=(qx.core.Variant.isSet(eO,eL))?
((fq==fw)||(fw.tagName==dI)):
fz.containsNode(fq,false);
for(j=0;j<fq.childNodes.length;j++){var fs=fq.childNodes[j];
if(fy||
(fz.focusNode.nodeValue&&qx.dom.Hierarchy.contains(fs,fz.focusNode)&&(fz.focusOffset==fz.focusNode.nodeValue.length))||
(qx.dom.Hierarchy.contains(fs,fz.anchorNode)&&(fz.anchorOffset==0))||
(fz.containsNode(fs,false))){fs.style.fontSize=(this.__vO[fm]||fm)+et;
}}}}else{var fr=(qx.core.Variant.isSet(eO,eL))?fw:fz.focusNode;
var fx=qx.dom.Hierarchy.getAncestors(fr);

for(i=0;i<fx.length;i++){if(fx[i].tagName==dz){if(((qx.core.Variant.isSet(eO,dN))&&
((fz.anchorOffset==0)&&
(fz.focusNode.nodeValue&&(fz.focusOffset==fz.focusNode.nodeValue.length))&&
qx.dom.Hierarchy.contains(fx[i].firstChild,fz.anchorNode)&&
qx.dom.Hierarchy.contains(fx[i].lastChild,fz.focusNode)))||
((qx.core.Variant.isSet(eO,eL))&&(fu.htmlText==fx[i].innerHTML))){fx[i].style.fontSize=(this.__vO[fm]||fm)+et;
}break;
}}}if(qx.core.Variant.isSet(eO,eL)){this.__vM.body.focus();
this.__vL.getRange().select();
return this.__vM.execCommand(dJ,false,fm);
}else if(qx.core.Variant.isSet(eO,dN)){var parent=fu.commonAncestorContainer;
if(parent.nodeType===1){var fp=parent.getElementsByTagName(eJ);

for(i=0;i<fp.length;i++){if(fp[i].style.fontSize){fp[i].style.fontSize=null;
}}}}return this.__vM.execCommand(dJ,false,fm);
},__ws:qx.core.Variant.select(eO,{"mshtml":function(bq,br){this.__vM.body.focus();
return this.__vM.execCommand(dK,false,bq);
},"gecko|opera":function(gz,gA){this.__vM.body.focus();
return this.__vM.execCommand(dF,false,gz);
},"webkit":function(V,W){var X=this.__vL.getSelection();
var Y=this.__vL.getRange();
if(!X||!X.isCollapsed){this.__vM.body.focus();
this.__vM.execCommand(dK,false,V);
if(X){X.collapseToEnd();
}return true;
}else{var bb=X.anchorOffset;
var bc=X.anchorOffset;
var Y=X.getRangeAt(0);
var ba=X.anchorNode;
while(bc>0){if(ba.nodeValue.charCodeAt(bc)==160||ba.nodeValue.charCodeAt(bc)==32){break;
}else{bc--;
}}while(bb<ba.nodeValue.length){if(ba.nodeValue.charCodeAt(bb)==160||ba.nodeValue.charCodeAt(bb)==32){break;
}else{bb++;
}}Y.setStart(X.anchorNode,X.anchorNode.nodeValue.charAt(bc)==dm?bc+1:bc);
Y.setEnd(X.anchorNode,bb);
X.addRange(Y);
this.__vM.body.focus();
this.__vM.execCommand(dK,false,V);
X.collapseToEnd();
return true;
}}}),__wt:function(bQ,bR){bQ=bQ!=null&&typeof bQ==eP?bQ:dQ;
qx.bom.element.Style.set(this.__vM.body,cC,bQ);
return true;
},__wu:function(A,B){var C,E,D;

if(A==null){C=null;
}else{C=A[0];
E=A[1];
D=A[2];
}if(C==null||typeof C!=eP){qx.bom.element.Style.set(this.__vM.body,es,eN);
qx.bom.element.Style.set(this.__vM.body,eX,eN);
qx.bom.element.Style.set(this.__vM.body,eV,eN);
return true;
}else{if(C.search(/^url.*\(/)==-1){C=cX+C+ek;
}}if(E!=null&&qx.bom.htmlarea.manager.Command.__vR.indexOf(E)<0){{};
return false;
}else{E=fg;
}if(D!=null&&qx.bom.htmlarea.manager.Command.__vQ.indexOf(eU+D+eU)<0){{};
return false;
}else{if(!D){D=cE;
}}qx.bom.element.Style.set(this.__vM.body,es,C);
qx.bom.element.Style.set(this.__vM.body,eX,E);
qx.bom.element.Style.set(this.__vM.body,eV,D);
return true;
},__wv:qx.core.Variant.select(eO,{"mshtml":function(gF,gG){var gH=this.__vM.body.createTextRange();
gH.select();
return true;
},"default":function(bG,bH){return this.__vW(bH.identifier,false,bG);
}}),__ww:function(){return this.__vL.getSelectedText();
},__wx:function(){return this.__vL.getSelectedHtml();
},__wy:qx.core.Variant.select(eO,{"webkit":function(gI,gJ){var gK=this.__vL.getContextInformation();
var gM=this.__vL.getFocusNode();
if(gK.underline){gM.style.textDecoration=er;
}else{if(gK.strikethrough){var gN=this.__vM.createElement(eJ);
qx.bom.element.Style.set(gN,cA,eT);
gM.appendChild(gN);
var gL=this.__vL.getSelection();

if(gL){gL.extend(gN,0);

if(!gL.isCollapsed){gL.collapseToEnd();
}}}else{gM.style.textDecoration=eT;
}}return true;
},"default":function(a,b){return this.__vW(b.identifier,false,a);
}}),__wz:qx.core.Variant.select(eO,{"webkit":function(cc,cd){var cf=this.__vL.getFocusNode();
var cg=this.__vM.createElement(eJ);
qx.bom.element.Style.set(cg,cA,ed);
cf.appendChild(cg);
var ce=this.__vL.getSelection();

if(ce){ce.extend(cg,0);

if(!ce.isCollapsed){ce.collapseToEnd();
}}return true;
},"default":function(bj,bk){return this.__vW(bk.identifier,false,bj);
}})},destruct:function(){this.__vM=this.__vL=this._commands=this.__vN=this.__vO=null;
}});
})();
(function(){var cB="execute",cA="changeValue",cz="#",cy="qooxdoo logo",cx="icon/16/actions/system-search.png",cw="Online Forum",cv="New",cu="icon/16/actions/edit-cut.png",ct='<h1>About</h1><p>qooxdoo (pronounced [ku:ksdu:]) is a comprehensive and innovative Ajax application framework. Leveraging object-oriented JavaScript allows developers to build impressive cross-browser applications. No <acronym title="HyperText Markup Language">HTML</acronym>, <acronym title="Cascading Style Sheets">CSS</acronym> nor <acronym title="Document Object Model">DOM</acronym> knowledge is needed. qooxdoo includes a platform-independent development tool chain, a state-of-the-art <acronym title="Graphical User Interface">GUI</acronym> toolkit and an advanced client-server communication layer. It is Open Source under an <acronym title="GNU Lesser General Public License">LGPL</acronym>/<acronym title="Eclipse Public License">EPL</acronym> dual <a href="http://qooxdoo.org/license" class="wikilink1" title="license" target="_blank">license</a>.</p>',cs="icon/16/actions/format-justify-fill.png",ch="Search in files",cg="C",cf="Left aligned",ce="Undo",cd="Perl",cc="C Dialect",cb="changeSelection",ca="BgColor (Hex): ",bY="Save as...",bX="Show line numbers",cI="Search previous...",cJ="Quickstart",cG="Cut",cH="Ctrl+N",cE="icon/16/actions/edit-paste.png",cF="Show console",cC="Redo",cD="Show status bar",cK="icon/16/actions/format-justify-left.png",cL="ANSI to OEM",cl="Editor",ck="Paragraph",cn="white",cm="Ctrl+O",cp="icon/16/actions/document-print.png",co="icon/16/actions/document-open.png",cr="C Sharp",cq="icon/16/actions/edit-undo.png",cj="Close",ci="showcase.page.htmleditor.Content",bg="htmlarea/image/qooxdoo_logo.png",bh="icon/16/actions/document-save-as.png",bi="Python",bj="icon/16/apps/utilities-help.png",bk="Show tree",bl="Spaces to tabs",bm="Right aligned",bn="OEM to ANSI",bo="JavaScript",bp="XML",cP="Save",cO="Capitals",cN="icon/16/actions/application-exit.png",cM="C Plus Plus",cT="Lowercase",cS="Search next...",cR="Centered",cQ="Replace in files",cV="Uppercase",cU="Ctrl+P",bH="Topics",bI="Panes",bF="Justified",bG="Ctrl+X",bL="Show macros",bM="Show ruler",bJ="Color (Hex): ",bK="Copy",bD="Paste",bE="blank.html",bx="icon/16/actions/format-justify-right.png",bw="Ctrl+Z",bz="Ctrl+R",by="icon/16/actions/edit-redo.png",bt="Show tags",bs="Info...",bv="Show tabs",bu="Print",br="icon/16/actions/document-save.png",bq="icon/16/actions/edit-copy.png",bR="Search...",bS="icon/16/actions/format-justify-center.png",bT="Open",bU="Objective C",bN="Exit",bO="Ctrl+S",bP="Syntax",bQ="Ctrl+C",bV="icon/16/actions/document-new.png",bW="Tabs to spaces",bC="ASCII table",bB="Replace",bA="HTML";
qx.Class.define(ci,{extend:showcase.page.AbstractDesktopContent,construct:function(o){arguments.callee.base.call(this,o);
},members:{__Gv:null,__Gw:null,_addWindowContent:function(dy){dy.set({layout:new qx.ui.layout.Canvas(),width:540,height:400,caption:cl});
var dA=ct;
this.__Gv=new qx.ui.embed.HtmlArea(dA,null,bE);
this.__Gv.set({width:540,height:370,margin:5});
var dz=new qx.ui.layout.VBox(0);
var dB=new qx.ui.container.Composite(dz).set({width:540,height:370,backgroundColor:cn});
var dC=this.__GH();
dB.add(dC);
var toolbar=this.__GG();
dB.add(toolbar);
dB.add(this.__Gv,{flex:1});
dy.add(dB,{edge:0});
},__Gx:function(e){var M=window.prompt(bJ,cz);
this.setTextColor(M);
},__Gy:function(e){var dD=window.prompt(ca,cz);
this.setTextBackgroundColor(dD);
},__Gz:function(e){var cW={src:qx.util.ResourceManager.getInstance().toUri(bg),border:0,title:cy,alt:cy};
this.insertImage(cW);
},__GA:function(e){var cX="<table border='1'>"+"<tbody>"+"<tr>"+"<td>First Row, First cell</td>"+"<td>First Row, Second cell</td>"+"</tr>"+"<tr>"+"<td>Second Row, First cell</td>"+"<td>Second Row, Second cell</td>"+"</tr>"+"</tbody>"+"</table>";
this.insertHtml(cX);
},__GB:function(e){var H=new qx.ui.window.Window("Insert Hyperlink");
H.setLayout(new qx.ui.layout.VBox(20));
H.set({width:400,showMaximize:false,showMinimize:false});
var L=new qx.ui.form.TextField("http://");
H.add(L);
var J=new qx.ui.layout.HBox(10);
J.setAlignX("right");
var K=new qx.ui.container.Composite(J);
var G=new qx.ui.form.Button("OK");
G.setWidth(60);
G.addListener("execute",function(e){this.insertHyperLink(L.getValue());
H.close();
},this);
K.add(G);
var I=new qx.ui.form.Button("Cancel");
I.setWidth(60);
I.addListener("execute",function(e){H.close();
},this);
K.add(I);
H.add(K);
H.center();
H.open();
this.__Gw.saveRange();
},__GC:function(e){var dO=window.prompt("HTML Code:","");
this.insertHtml(dO);
},__GD:function(){var dR=new qx.ui.form.SelectBox;
dR.set({toolTipText:"Change Font Family",focusable:false,keepFocus:true,width:120,height:16,margin:[4,0]});
dR.add(new qx.ui.form.ListItem(""));
var dS=["Tahoma","Verdana","Times New Roman","Arial","Arial Black","Courier New","Courier","Georgia","Impact","Comic Sans MS","Lucida Console"];
var dQ;

for(var i=0,j=dS.length;i<j;i++){dQ=new qx.ui.form.ListItem(dS[i]);
dQ.set({focusable:false,keepFocus:true,font:qx.bom.Font.fromString("12px "+dS[i])});
dR.add(dQ);
}dR.addListener("changeSelection",function(e){var dP=e.getData()[0].getLabel();

if(dP!=""){this.setFontFamily(dP);
dR.setSelection([dR.getChildren()[0]]);
}},this.__Gv);
return dR;
},__GE:function(){var dN=new qx.ui.form.SelectBox;
dN.set({toolTipText:"Change Font Size",focusable:false,keepFocus:true,width:50,height:16,margin:[4,0]});
dN.add(new qx.ui.form.ListItem(""));
var dM;

for(var i=1;i<=7;i++){dM=new qx.ui.form.ListItem(i+"");
dM.set({focusable:false,keepFocus:true});
dN.add(dM);
}dN.addListener("changeSelection",function(e){var w=e.getData()[0].getLabel();

if(w!=""){this.setFontSize(w);
dN.setSelection([dN.getChildren()[0]]);
}},this.__Gv);
return dN;
},__GF:function(){return [{bold:{text:"Format Bold",image:"icon/16/actions/format-text-bold.png",action:this.__Gv.setBold},italic:{text:"Format Italic",image:"icon/16/actions/format-text-italic.png",action:this.__Gv.setItalic},underline:{text:"Format Underline",image:"icon/16/actions/format-text-underline.png",action:this.__Gv.setUnderline},strikethrough:{text:"Format Strikethrough",image:"icon/16/actions/format-text-strikethrough.png",action:this.__Gv.setStrikeThrough},removeFormat:{text:"Remove Format",image:"icon/16/actions/edit-clear.png",action:this.__Gv.removeFormat}},{alignLeft:{text:"Align Left",image:"icon/16/actions/format-justify-left.png",action:this.__Gv.setJustifyLeft},alignCenter:{text:"Align Center",image:"icon/16/actions/format-justify-center.png",action:this.__Gv.setJustifyCenter},alignRight:{text:"Align Right",image:"icon/16/actions/format-justify-right.png",action:this.__Gv.setJustifyRight},alignJustify:{text:"Align Justify",image:"icon/16/actions/format-justify-fill.png",action:this.__Gv.setJustifyFull}},{indent:{text:"Indent More",image:"icon/16/actions/format-indent-more.png",action:this.__Gv.insertIndent},outdent:{text:"Indent Less",image:"icon/16/actions/format-indent-less.png",action:this.__Gv.insertOutdent}},{ol:{text:"Insert Ordered List",image:"showcase/htmleditor/format-list-ordered.png",action:this.__Gv.insertOrderedList},ul:{text:"Inserted Unordered List",image:"showcase/htmleditor/format-list-unordered.png",action:this.__Gv.insertUnorderedList}},{undo:{text:"Undo Last Change",image:"icon/16/actions/edit-undo.png",action:this.__Gv.undo},redo:{text:"Redo Last Undo Step",image:"icon/16/actions/edit-redo.png",action:this.__Gv.redo}}];
},__GG:function(){var toolbar=new qx.ui.toolbar.ToolBar;
var h;
var k=this.__GF();

for(var i=0,j=k.length;i<j;i++){var l=new qx.ui.toolbar.Part;
toolbar.add(l);

for(var m in k[i]){var n=k[i][m];

if(n.custom){h=n.custom.call(this);
}else{h=new qx.ui.toolbar.Button(null,n.image);
h.set({focusable:false,keepFocus:true,center:true,toolTipText:n.text?n.text:""});
h.addListener("execute",n.action,this.__Gv);
}l.add(h);
}}return toolbar;
},debugRadio:function(e){alert("This command is not yet implemented!");
},debugCommand:function(e){alert("This command is not yet implemented!");
},debugButton:function(e){alert("This command is not yet implemented!");
},debugCheckBox:function(e){alert("This command is not yet implemented!");
},createCommands:function(){this._newCommand=new qx.ui.core.Command(cH);
this._newCommand.addListener(cB,this.debugCommand);
this._openCommand=new qx.ui.core.Command(cm);
this._openCommand.addListener(cB,this.debugCommand);
this._saveCommand=new qx.ui.core.Command(bO);
this._saveCommand.addListener(cB,this.debugCommand);
this._undoCommand=new qx.ui.core.Command(bw);
this._undoCommand.addListener(cB,this.debugCommand);
this._redoCommand=new qx.ui.core.Command(bz);
this._redoCommand.addListener(cB,this.debugCommand);
this._cutCommand=new qx.ui.core.Command(bG);
this._cutCommand.addListener(cB,this.debugCommand);
this._copyCommand=new qx.ui.core.Command(bQ);
this._copyCommand.addListener(cB,this.debugCommand);
this._pasteCommand=new qx.ui.core.Command(cU);
this._pasteCommand.addListener(cB,this.debugCommand);
this._pasteCommand.setEnabled(false);
},__GH:function(){this.createCommands();
var menubar=new qx.ui.menubar.MenuBar().set({decorator:new qx.ui.decoration.Single().set({backgroundImage:"decoration/menu/bar-background.png",backgroundRepeat:"scale",bottom:[1,"solid","border-separator"]})});
var b=new qx.ui.menubar.Button("File",null,this.getFileMenu());
var a=new qx.ui.menubar.Button("Edit",null,this.getEditMenu());
var d=new qx.ui.menubar.Button("Search",null,this.getSearchMenu());
var c=new qx.ui.menubar.Button("View",null,this.getViewMenu());
var g=new qx.ui.menubar.Button("Format",null,this.getFormatMenu());
var f=new qx.ui.menubar.Button("Help",null,this.getHelpMenu());
menubar.add(b);
menubar.add(a);
menubar.add(d);
menubar.add(c);
menubar.add(g);
menubar.add(new qx.ui.core.Spacer(),{flex:1});
menubar.add(f);
return menubar;
},getFileMenu:function(){var dG=new qx.ui.menu.Menu;
var dE=new qx.ui.menu.Button(cv,bV,this._newCommand);
var dI=new qx.ui.menu.Button(bT,co,this._openCommand);
var dH=new qx.ui.menu.Button(cj);
var dL=new qx.ui.menu.Button(cP,br,this._saveCommand);
var dK=new qx.ui.menu.Button(bY,bh);
var dJ=new qx.ui.menu.Button(bu,cp);
var dF=new qx.ui.menu.Button(bN,cN);
dH.addListener(cB,this.debugButton);
dK.addListener(cB,this.debugButton);
dJ.addListener(cB,this.debugButton);
dF.addListener(cB,this.debugButton);
dG.add(dE);
dG.add(dI);
dG.add(dH);
dG.add(dL);
dG.add(dK);
dG.add(dJ);
dG.add(dF);
return dG;
},getEditMenu:function(){var dt=new qx.ui.menu.Menu;
var dw=new qx.ui.menu.Button(ce,cq,this._undoCommand);
var dv=new qx.ui.menu.Button(cC,by,this._redoCommand);
var ds=new qx.ui.menu.Button(cG,cu,this._cutCommand);
var dx=new qx.ui.menu.Button(bK,bq,this._copyCommand);
var du=new qx.ui.menu.Button(bD,cE,this._pasteCommand);
dt.add(dw);
dt.add(dv);
dt.addSeparator();
dt.add(ds);
dt.add(dx);
dt.add(du);
return dt;
},getSearchMenu:function(){var s=new qx.ui.menu.Menu;
var q=new qx.ui.menu.Button(bR,cx);
var v=new qx.ui.menu.Button(cS);
var r=new qx.ui.menu.Button(cI);
var u=new qx.ui.menu.Button(bB);
var p=new qx.ui.menu.Button(ch,cx);
var t=new qx.ui.menu.Button(cQ);
r.setEnabled(false);
q.addListener(cB,this.debugButton);
v.addListener(cB,this.debugButton);
r.addListener(cB,this.debugButton);
u.addListener(cB,this.debugButton);
p.addListener(cB,this.debugButton);
t.addListener(cB,this.debugButton);
s.add(q);
s.add(v);
s.add(r);
s.add(u);
s.addSeparator();
s.add(p);
s.add(t);
return s;
},getViewMenu:function(){var cY=new qx.ui.menu.Menu;
var db=new qx.ui.menu.Button(bI,null,null,this.getPanesMenu());
var de=new qx.ui.menu.Button(bP,null,null,this.getSyntaxMenu());
var dd=new qx.ui.menu.CheckBox(bM);
var dc=new qx.ui.menu.CheckBox(bX);
var da=new qx.ui.menu.Button(bC);
dd.addListener(cA,this.debugCheckBox);
dc.addListener(cA,this.debugCheckBox);
da.addListener(cB,this.debugButton);
cY.add(db);
cY.add(de);
cY.addSeparator();
cY.add(dd);
cY.add(dc);
cY.addSeparator();
cY.add(da);
return cY;
},getPanesMenu:function(){var dl=new qx.ui.menu.Menu;
var dn=new qx.ui.menu.CheckBox(bv);
var dq=new qx.ui.menu.CheckBox(cD);
var dr=new qx.ui.menu.CheckBox(bk);
var dm=new qx.ui.menu.CheckBox(bL);
var dp=new qx.ui.menu.CheckBox(bt);
var dk=new qx.ui.menu.CheckBox(cF);
dn.setValue(true);
dq.setValue(true);
dm.setValue(true);
dn.addListener(cA,this.debugCheckBox);
dq.addListener(cA,this.debugCheckBox);
dr.addListener(cA,this.debugCheckBox);
dm.addListener(cA,this.debugCheckBox);
dp.addListener(cA,this.debugCheckBox);
dk.addListener(cA,this.debugCheckBox);
dl.add(dq);
dl.add(dn);
dl.addSeparator();
dl.add(dr);
dl.add(dm);
dl.add(dp);
dl.add(dk);
return dl;
},getSyntaxMenu:function(){var R=new qx.ui.menu.Menu;
var N=new qx.ui.menu.RadioButton(bA);
var P=new qx.ui.menu.RadioButton(bp);
var O=new qx.ui.menu.RadioButton(bo);
var Q=new qx.ui.menu.Button(cc,null,null,this.getSyntaxCMenu());
var U=new qx.ui.menu.RadioButton(cd);
var S=new qx.ui.menu.RadioButton(bi);
R.add(N);
R.add(P);
R.add(O);
R.add(Q);
R.add(U);
R.add(S);
var T=new qx.ui.form.RadioGroup;
T.add(N,P,O,U,S);
T.add.apply(T,Q.getMenu().getChildren());
T.addListener(cb,this.debugRadio);
return R;
},getSyntaxCMenu:function(){var bc=new qx.ui.menu.Menu;
var bb=new qx.ui.menu.RadioButton(cg);
var bf=new qx.ui.menu.RadioButton(cr);
var be=new qx.ui.menu.RadioButton(bU);
var bd=new qx.ui.menu.RadioButton(cM);
bc.add(bb);
bc.add(bf);
bc.add(be);
bc.add(bd);
return bc;
},getFormatMenu:function(){var A=new qx.ui.menu.Menu;
var z=new qx.ui.menu.Button(ck,null,null,this.getParagraphMenu());
var C=new qx.ui.menu.Button(bW);
var D=new qx.ui.menu.Button(bl);
var y=new qx.ui.menu.Button(cV);
var B=new qx.ui.menu.Button(cT);
var x=new qx.ui.menu.Button(cO);
var F=new qx.ui.menu.Button(bn);
var E=new qx.ui.menu.Button(cL);
C.addListener(cB,this.debugButton);
D.addListener(cB,this.debugButton);
y.addListener(cB,this.debugButton);
B.addListener(cB,this.debugButton);
x.addListener(cB,this.debugButton);
F.addListener(cB,this.debugButton);
E.addListener(cB,this.debugButton);
A.add(z);
A.add(C);
A.add(D);
A.addSeparator();
A.add(y);
A.add(B);
A.add(x);
A.addSeparator();
A.add(F);
A.add(E);
return A;
},getParagraphMenu:function(){var df=new qx.ui.menu.Menu;
var di=new qx.ui.menu.Button(cf,cK);
var dj=new qx.ui.menu.Button(bm,bx);
var dg=new qx.ui.menu.Button(cR,bS);
var dh=new qx.ui.menu.Button(bF,cs);
di.addListener(cB,this.debugButton);
dj.addListener(cB,this.debugButton);
dg.addListener(cB,this.debugButton);
dh.addListener(cB,this.debugButton);
df.add(di);
df.add(dj);
df.add(dg);
df.add(dh);
return df;
},getHelpMenu:function(){var V=new qx.ui.menu.Menu;
var X=new qx.ui.menu.Button(bH,bj);
var ba=new qx.ui.menu.Button(cJ);
var Y=new qx.ui.menu.Button(cw);
var W=new qx.ui.menu.Button(bs);
X.addListener(cB,this.debugButton);
ba.addListener(cB,this.debugButton);
Y.addListener(cB,this.debugButton);
W.addListener(cB,this.debugButton);
V.add(X);
V.add(ba);
V.addSeparator();
V.add(Y);
V.addSeparator();
V.add(W);
return V;
}}});
})();
(function(){var b="qx.ui.menubar.MenuBar",a="menubar";
qx.Class.define(b,{extend:qx.ui.toolbar.ToolBar,properties:{appearance:{refine:true,init:a}}});
})();
(function(){var m="qx.dom.Element";
qx.Class.define(m,{statics:{hasChild:function(parent,f){return f.parentNode===parent;
},hasChildren:function(g){return !!g.firstChild;
},hasChildElements:function(c){c=c.firstChild;

while(c){if(c.nodeType===1){return true;
}c=c.nextSibling;
}return false;
},getParentElement:function(n){return n.parentNode;
},isInDom:function(h,j){if(!j){j=window;
}var k=j.document.getElementsByTagName(h.nodeName);

for(var i=0,l=k.length;i<l;i++){if(k[i]===h){return true;
}}return false;
},insertAt:function(s,parent,t){var u=parent.childNodes[t];

if(u){parent.insertBefore(s,u);
}else{parent.appendChild(s);
}return true;
},insertBegin:function(B,parent){if(parent.firstChild){this.insertBefore(B,parent.firstChild);
}else{parent.appendChild(B);
}},insertEnd:function(w,parent){parent.appendChild(w);
},insertBefore:function(a,b){b.parentNode.insertBefore(a,b);
return true;
},insertAfter:function(d,e){var parent=e.parentNode;

if(e==parent.lastChild){parent.appendChild(d);
}else{return this.insertBefore(d,e.nextSibling);
}return true;
},remove:function(o){if(!o.parentNode){return false;
}o.parentNode.removeChild(o);
return true;
},removeChild:function(v,parent){if(v.parentNode!==parent){return false;
}parent.removeChild(v);
return true;
},removeChildAt:function(z,parent){var A=parent.childNodes[z];

if(!A){return false;
}parent.removeChild(A);
return true;
},replaceChild:function(x,y){if(!y.parentNode){return false;
}y.parentNode.replaceChild(x,y);
return true;
},replaceAt:function(p,q,parent){var r=parent.childNodes[q];

if(!r){return false;
}parent.replaceChild(p,r);
return true;
}}});
})();
